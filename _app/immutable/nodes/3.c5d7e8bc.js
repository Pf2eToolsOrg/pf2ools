var Be=Object.defineProperty;var je=(s,e,t)=>e in s?Be(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var T=(s,e,t)=>(je(s,typeof e!="symbol"?e+"":e,t),t);import{ah as M,S as x,i as $,s as ee,k as S,l as k,m as C,h as _,n as v,ai as q,b as R,U as z,Y as X,H as L,I as W,a as O,c as D,ag as N,M as H,af as ce,N as re,q as j,r as y,L as P,u as V,a3 as ye,e as ie,a4 as Ie,R as Re,aj as fe,ak as He,a2 as oe,C as Ne,p as se,D as Ae,E as Oe,F as De,g as A,d as I,al as qe,v as ne,f as ae,y as G,z as Y,A as K,B as Q,w as Le,a6 as We}from"../chunks/index.b651555f.js";import{w as J,d as te}from"../chunks/index.504fa367.js";import{S as Ue}from"../chunks/Storage.4d1a220c.js";const Z=(s=null)=>String(s).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),le=s=>{if(s==null)return!0},he={contains:(s,e)=>Z(s).indexOf(Z(e))>-1,startsWith:(s,e)=>Z(s).startsWith(Z(e)),endsWith:(s,e)=>Z(s).endsWith(Z(e)),isEqualTo:(s,e)=>Z(s)===Z(e),isGreaterThan:(s,e)=>le(s)?!1:s>e,isGreaterThanOrEqualTo:(s,e)=>le(s)?!1:s>=e,isLessThan:(s,e)=>le(s)?!1:s<e,isLessThanOrEqualTo:(s,e)=>le(s)?!1:s<=e,isBetween:(s,e)=>{if(le(s))return!1;const[t,l]=e;return s>=t&&s<=l},isStrictlyBetween:(s,e)=>{if(le(s))return!1;const[t,l]=e;return s>t&&s<l},isTrue:(s,e="boolean")=>s===!0,isFalse:(s,e="boolean")=>s===!1,isNull:(s,e="null")=>s==null,isNotNull:(s,e="null")=>s!=null};class ze{constructor(e,t){T(this,"rowsPerPage");T(this,"pageNumber");T(this,"triggerChange");T(this,"globalSearch");T(this,"filters");T(this,"rawRows");T(this,"filteredRows");T(this,"rows");T(this,"rowCount");T(this,"pages");T(this,"pagesWithEllipsis");T(this,"pageCount");T(this,"sorted");T(this,"selected");T(this,"selectScope");T(this,"isAllSelected");this.rowsPerPage=J(t.rowsPerPage),this.pageNumber=J(1),this.triggerChange=J(0),this.globalSearch=J({value:null,scope:null}),this.filters=J([]),this.rawRows=J(e),this.filteredRows=this.createFilteredRows(),this.rows=this.createPaginatedRows(),this.rowCount=this.createRowCount(),this.pages=this.createPages(),this.pagesWithEllipsis=this.createPagesWithEllipsis(),this.pageCount=this.createPageCount(),this.sorted=J({identifier:null,direction:null,fn:null}),this.selected=J([]),this.selectScope=J("all"),this.isAllSelected=this.createIsAllSelected()}createFilteredRows(){return te([this.rawRows,this.globalSearch,this.filters],([e,t,l])=>(t.value&&(e=e.filter(r=>(t.scope??Object.keys(r)).some(i=>this.matches(r[i],t.value))),this.pageNumber.set(1),this.selected.set([]),this.triggerChange.update(r=>r+1)),l.length>0&&(l.forEach(r=>e=e.filter(n=>{const i=r.filterBy(n);return r.value===null||r.value===void 0||r.value===""?!0:this.matches(i,r.value,r.compare)})),this.pageNumber.set(1),this.selected.set([]),this.triggerChange.update(r=>r+1)),e))}matches(e,t,l=null){if(!e&&l)return l(e,t);if(e){if(typeof e=="object")return Object.keys(e).some(r=>this.matches(e[r],t,l))}else return he.contains(e,t);return l?l(e,t):he.contains(e,t)}createPaginatedRows(){return te([this.filteredRows,this.rowsPerPage,this.pageNumber],([e,t,l])=>t?(this.triggerChange.update(r=>r+1),e.slice((l-1)*t,l*t)):e)}createRowCount(){return te([this.filteredRows,this.pageNumber,this.rowsPerPage],([e,t,l])=>{const r=e.length;return l?{total:r,start:t*l-l+1,end:Math.min(t*l,e.length)}:{total:r,start:1,end:r}})}createPages(){return te([this.rowsPerPage,this.filteredRows],([e,t])=>e?Array.from(Array(Math.ceil(t.length/e))).map((r,n)=>n+1):[1])}createPagesWithEllipsis(){return te([this.pages,this.pageNumber],([e,t])=>{if(e.length<=7)return e;const l=null,r=1,n=e.length;return t<=4?[...e.slice(0,5),l,n]:t<e.length-3?[r,l,...e.slice(t-2,t+1),l,n]:[r,l,...e.slice(e.length-5,e.length)]})}createPageCount(){return te(this.pages,e=>e.length)}createIsAllSelected(){return te([this.selected,this.rows,this.filteredRows,this.selectScope],([e,t,l,r])=>{const n=r==="currentPage"?t.length:l.length;return n===e.length&&n!==0})}}class Fe{constructor(e){T(this,"rawRows");T(this,"filteredRows");T(this,"rows");T(this,"triggerChange");T(this,"sorted");T(this,"selected");T(this,"selectScope");T(this,"isAllSelected");this.rawRows=e.rawRows,this.filteredRows=e.filteredRows,this.rows=e.rows,this.triggerChange=e.triggerChange,this.sorted=e.sorted,this.selected=e.selected,this.selectScope=e.selectScope,this.isAllSelected=e.isAllSelected}sort(e){if(!e)return;const t=M(this.sorted),l=this.parse(e);t.identifier!==l.identifier&&this.sorted.update(r=>r.direction=null),t.direction===null||t.direction==="desc"?this.sortAsc(e):t.direction==="asc"&&this.sortDesc(e)}sortAsc(e){if(!e)return;const t=this.parse(e);this.sorted.set({identifier:t.identifier,direction:"asc",fn:t.fn}),this.rawRows.update(l=>(l.sort((r,n)=>{const[i,a]=[t.fn(r),t.fn(n)];return i===a?0:i===null?1:a===null?-1:typeof i=="boolean"?i===!1?1:-1:typeof i=="string"?i.localeCompare(a):typeof i=="number"?i-a:typeof i=="object"?JSON.stringify(i).localeCompare(JSON.stringify(a)):String(i).localeCompare(String(a))}),l)),this.triggerChange.update(l=>l+1)}sortDesc(e){if(!e)return;const t=this.parse(e);this.sorted.set({identifier:t.identifier,direction:"desc",fn:t.fn}),this.rawRows.update(l=>(l.sort((r,n)=>{const[i,a]=[t.fn(r),t.fn(n)];return i===a?0:i===null?1:a===null?-1:typeof a=="boolean"?a===!1?1:-1:typeof a=="string"?a.localeCompare(i):typeof a=="number"?a-i:typeof a=="object"?JSON.stringify(a).localeCompare(JSON.stringify(i)):String(a).localeCompare(String(i))}),l)),this.triggerChange.update(l=>l+1)}applySorting(e=null){if(e)switch(e.direction){case"asc":return this.sortAsc(e.orderBy);case"desc":return this.sortDesc(e.orderBy);default:return this.sort(e.orderBy)}const t=M(this.sorted);if(t.identifier)return this.applySorting({orderBy:t.fn,direction:t.direction})}parse(e){return typeof e=="string"?{fn:t=>t[e],identifier:e.toString()}:{fn:e,identifier:e.toString()}}select(e){const t=M(this.selected);t.includes(e)?this.selected.set(t.filter(l=>l!==e)):this.selected.set([e,...t])}selectAll(e=null){const t=M(this.isAllSelected),l=M(this.selectScope);if(t)return this.unselectAll();const r=l==="currentPage"?M(this.rows):M(this.filteredRows);e?this.selected.set(r.map(n=>n[e])):this.selected.set(r)}unselectAll(){this.selected.set([])}}class Me{constructor(e){T(this,"pageNumber");T(this,"rowCount");T(this,"rowsPerPage");T(this,"triggerChange");T(this,"pages");this.pageNumber=e.pageNumber,this.rowCount=e.rowCount,this.rowsPerPage=e.rowsPerPage,this.triggerChange=e.triggerChange,this.pages=e.pages}get(){return this.pages}goTo(e){this.pageNumber.update(t=>{const l=this.getRowsPerPage();if(l){const r=M(this.rowCount).total;e>=1&&e<=Math.ceil(r/l)&&(t=e,this.triggerChange.update(n=>n+1))}return t})}previous(){const e=M(this.pageNumber)-1;this.goTo(e)}next(){const e=M(this.pageNumber)+1;this.goTo(e)}getRowsPerPage(){let e=null;return this.rowsPerPage.subscribe(t=>e=t),e}}let Ve=class{constructor(e){T(this,"globalSearch");this.globalSearch=e.globalSearch}set(e,t=null){this.globalSearch.update(l=>(l={value:e??"",scope:t??null},l))}remove(){this.globalSearch.set({value:null,scope:null})}};class Je{constructor(e){T(this,"filters");this.filters=e.filters}set(e,t,l=null){const r=this.parse(t);this.filters.update(n=>{const i={filterBy:r.fn,value:e,identifier:r.identifier,compare:l};return n=n.filter(a=>a.identifier!==r.identifier&&a.value.length>0),n.push(i),n})}remove(){this.filters.set([])}parse(e){return typeof e=="string"?{fn:t=>t[e],identifier:e.toString()}:{fn:e,identifier:e.toString()}}}class Ge{constructor(e=[],t={rowsPerPage:null}){T(this,"context");T(this,"rows");T(this,"pages");T(this,"globalSearch");T(this,"filters");T(this,"i18n");this.i18n=this.translate(t.i18n),this.context=new ze(e,t),this.rows=new Fe(this.context),this.pages=new Me(this.context),this.globalSearch=new Ve(this.context),this.filters=new Je(this.context)}setRows(e){this.context.rawRows.set(e),this.applySorting()}getRows(){return this.context.rows}select(e){this.rows.select(e)}getSelected(){return this.context.selected}selectAll(e={}){this.context.selectScope.set(e.scope??"all"),this.rows.selectAll(e.selectBy??null)}isAllSelected(){return this.context.isAllSelected}getRowCount(){return this.context.rowCount}getRowsPerPage(){return this.context.rowsPerPage}sort(e){this.setPage(1),this.rows.sort(e)}applySorting(e=null){this.rows.applySorting(e)}sortAsc(e){this.setPage(1),this.rows.sortAsc(e)}sortDesc(e){this.setPage(1),this.rows.sortDesc(e)}getSorted(){return this.context.sorted}search(e,t=null){this.globalSearch.set(e,t)}clearSearch(){this.globalSearch.remove()}filter(e,t,l=null){return this.filters.set(e,t,l)}clearFilters(){this.filters.remove()}getPages(e={ellipsis:!1}){return e.ellipsis?this.context.pagesWithEllipsis:this.context.pages}getPageCount(){return this.context.pageCount}getPageNumber(){return this.context.pageNumber}setPage(e){switch(e){case"previous":return this.pages.previous();case"next":return this.pages.next();default:return this.pages.goTo(e)}}getTriggerChange(){return this.context.triggerChange}translate(e){return{search:"Search...",show:"Show",entries:"entries",filter:"Filter",rowCount:"Showing {start} to {end} of {total} entries",noRows:"No entries found",previous:"Previous",next:"Next",...e}}update(e){console.log("%c%s","color:#e65100;background:#fff3e0;font-size:12px;border-radius:4px;padding:4px;text-align:center;","DataHandler.update(data) method is deprecated. Please use DataHandler.setRows(data) instead"),this.context.rawRows.set(e)}}function de(s,e,t){const l=s.slice();return l[16]=e[t],l}function Ye(s){let e,t=s[0].i18n.previous+"",l,r,n,i=s[0].i18n.next+"",a,h,m=s[4],u=[];for(let c=0;c<m.length;c+=1)u[c]=ge(de(s,m,c));return{c(){e=S("button"),l=O();for(let c=0;c<u.length;c+=1)u[c].c();r=O(),n=S("button"),this.h()},l(c){e=k(c,"BUTTON",{type:!0,class:!0});var o=C(e);o.forEach(_),l=D(c);for(let d=0;d<u.length;d+=1)u[d].l(c);r=D(c),n=k(c,"BUTTON",{type:!0,class:!0});var f=C(n);f.forEach(_),this.h()},h(){v(e,"type","button"),v(e,"class","svelte-3l534n"),N(e,"disabled",s[2]===1),v(n,"type","button"),v(n,"class","svelte-3l534n"),N(n,"disabled",s[2]===s[3])},m(c,o){R(c,e,o),e.innerHTML=t,R(c,l,o);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(c,o);R(c,r,o),R(c,n,o),n.innerHTML=i,a||(h=[H(e,"click",s[13]),H(n,"click",s[15])],a=!0)},p(c,o){if(o&1&&t!==(t=c[0].i18n.previous+"")&&(e.innerHTML=t),o&4&&N(e,"disabled",c[2]===1),o&21){m=c[4];let f;for(f=0;f<m.length;f+=1){const d=de(c,m,f);u[f]?u[f].p(d,o):(u[f]=ge(d),u[f].c(),u[f].m(r.parentNode,r))}for(;f<u.length;f+=1)u[f].d(1);u.length=m.length}o&1&&i!==(i=c[0].i18n.next+"")&&(n.innerHTML=i),o&12&&N(n,"disabled",c[2]===c[3])},d(c){c&&_(e),c&&_(l),ce(u,c),c&&_(r),c&&_(n),a=!1,re(h)}}}function Ke(s){let e,t,l,r,n,i,a,h,m,u,c,o,f;return{c(){e=S("button"),t=j("❬❬"),l=O(),r=S("button"),n=j("❮"),i=O(),a=S("button"),h=j("❯"),m=O(),u=S("button"),c=j("❭❭"),this.h()},l(d){e=k(d,"BUTTON",{type:!0,class:!0});var b=C(e);t=y(b,"❬❬"),b.forEach(_),l=D(d),r=k(d,"BUTTON",{type:!0,class:!0});var w=C(r);n=y(w,"❮"),w.forEach(_),i=D(d),a=k(d,"BUTTON",{class:!0});var p=C(a);h=y(p,"❯"),p.forEach(_),m=D(d),u=k(d,"BUTTON",{class:!0});var g=C(u);c=y(g,"❭❭"),g.forEach(_),this.h()},h(){v(e,"type","button"),v(e,"class","small svelte-3l534n"),N(e,"disabled",s[2]===1),v(r,"type","button"),v(r,"class","svelte-3l534n"),N(r,"disabled",s[2]===1),v(a,"class","svelte-3l534n"),N(a,"disabled",s[2]===s[3]),v(u,"class","small svelte-3l534n"),N(u,"disabled",s[2]===s[3])},m(d,b){R(d,e,b),P(e,t),R(d,l,b),R(d,r,b),P(r,n),R(d,i,b),R(d,a,b),P(a,h),R(d,m,b),R(d,u,b),P(u,c),o||(f=[H(e,"click",s[9]),H(r,"click",s[10]),H(a,"click",s[11]),H(u,"click",s[12])],o=!0)},p(d,b){b&4&&N(e,"disabled",d[2]===1),b&4&&N(r,"disabled",d[2]===1),b&12&&N(a,"disabled",d[2]===d[3]),b&12&&N(u,"disabled",d[2]===d[3])},d(d){d&&_(e),d&&_(l),d&&_(r),d&&_(i),d&&_(a),d&&_(m),d&&_(u),o=!1,re(f)}}}function ge(s){let e,t=(s[16]??"...")+"",l,r,n;function i(){return s[14](s[16])}return{c(){e=S("button"),l=j(t),this.h()},l(a){e=k(a,"BUTTON",{type:!0,class:!0});var h=C(e);l=y(h,t),h.forEach(_),this.h()},h(){v(e,"type","button"),v(e,"class","svelte-3l534n"),N(e,"active",s[2]===s[16]),N(e,"ellipse",s[16]===null)},m(a,h){R(a,e,h),P(e,l),r||(n=H(e,"click",i),r=!0)},p(a,h){s=a,h&16&&t!==(t=(s[16]??"...")+"")&&V(l,t),h&20&&N(e,"active",s[2]===s[16]),h&16&&N(e,"ellipse",s[16]===null)},d(a){a&&_(e),r=!1,n()}}}function Qe(s){let e,t;function l(i,a){return i[1]?Ke:Ye}let r=l(s),n=r(s);return{c(){e=S("section"),n.c(),this.h()},l(i){e=k(i,"SECTION",{class:!0});var a=C(e);n.l(a),a.forEach(_),this.h()},h(){v(e,"class",t=q(s[8].class??"")+" svelte-3l534n")},m(i,a){R(i,e,a),n.m(e,null)},p(i,[a]){r===(r=l(i))&&n?n.p(i,a):(n.d(1),n=r(i),n&&(n.c(),n.m(e,null))),a&256&&t!==(t=q(i[8].class??"")+" svelte-3l534n")&&v(e,"class",t)},i:z,o:z,d(i){i&&_(e),n.d()}}}function Xe(s,e,t){let l,r,n,{handler:i}=e,{small:a=!1}=e;const h=i.getPageNumber();X(s,h,g=>t(2,l=g));const m=i.getPageCount();X(s,m,g=>t(3,r=g));const u=i.getPages({ellipsis:!0});X(s,u,g=>t(4,n=g));const c=()=>i.setPage(1),o=()=>i.setPage("previous"),f=()=>i.setPage("next"),d=()=>i.setPage(r),b=()=>i.setPage("previous"),w=g=>i.setPage(g),p=()=>i.setPage("next");return s.$$set=g=>{t(8,e=L(L({},e),W(g))),"handler"in g&&t(0,i=g.handler),"small"in g&&t(1,a=g.small)},e=W(e),[i,a,l,r,n,h,m,u,e,c,o,f,d,b,w,p]}class Ze extends x{constructor(e){super(),$(this,e,Xe,Qe,ee,{handler:0,small:1})}}function xe(s){let e=s[0].i18n.noRows+"",t;return{c(){t=j(e)},l(l){t=y(l,e)},m(l,r){R(l,t,r)},p(l,r){r&1&&e!==(e=l[0].i18n.noRows+"")&&V(t,e)},d(l){l&&_(t)}}}function $e(s){let e,t=s[0].i18n.rowCount.replace("{start}",`<b>${s[2].start}</b>`).replace("{end}",`<b>${s[2].end}</b>`).replace("{total}",`<b>${s[2].total}</b>`)+"",l;return{c(){e=new ye(!1),l=ie(),this.h()},l(r){e=Ie(r,!1),l=ie(),this.h()},h(){e.a=l},m(r,n){e.m(t,r,n),R(r,l,n)},p(r,n){n&5&&t!==(t=r[0].i18n.rowCount.replace("{start}",`<b>${r[2].start}</b>`).replace("{end}",`<b>${r[2].end}</b>`).replace("{total}",`<b>${r[2].total}</b>`)+"")&&e.p(t)},d(r){r&&_(l),r&&e.d()}}}function et(s){let e;function t(n,i){return n[2].total>0?lt:tt}let l=t(s),r=l(s);return{c(){r.c(),e=ie()},l(n){r.l(n),e=ie()},m(n,i){r.m(n,i),R(n,e,i)},p(n,i){l===(l=t(n))&&r?r.p(n,i):(r.d(1),r=l(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&_(e)}}}function tt(s){let e=s[0].i18n.noRows+"",t;return{c(){t=j(e)},l(l){t=y(l,e)},m(l,r){R(l,t,r)},p(l,r){r&1&&e!==(e=l[0].i18n.noRows+"")&&V(t,e)},d(l){l&&_(t)}}}function lt(s){let e,t=s[2].start+"",l,r,n,i=s[2].end+"",a,h,m,u=s[2].total+"",c;return{c(){e=S("b"),l=j(t),r=j(`-\r
            `),n=S("b"),a=j(i),h=j(`/\r
            `),m=S("b"),c=j(u)},l(o){e=k(o,"B",{});var f=C(e);l=y(f,t),f.forEach(_),r=y(o,`-\r
            `),n=k(o,"B",{});var d=C(n);a=y(d,i),d.forEach(_),h=y(o,`/\r
            `),m=k(o,"B",{});var b=C(m);c=y(b,u),b.forEach(_)},m(o,f){R(o,e,f),P(e,l),R(o,r,f),R(o,n,f),P(n,a),R(o,h,f),R(o,m,f),P(m,c)},p(o,f){f&4&&t!==(t=o[2].start+"")&&V(l,t),f&4&&i!==(i=o[2].end+"")&&V(a,i),f&4&&u!==(u=o[2].total+"")&&V(c,u)},d(o){o&&_(e),o&&_(r),o&&_(n),o&&_(h),o&&_(m)}}}function st(s){let e,t;function l(i,a){return i[1]?et:i[2].total>0?$e:xe}let r=l(s),n=r(s);return{c(){e=S("aside"),n.c(),this.h()},l(i){e=k(i,"ASIDE",{class:!0});var a=C(e);n.l(a),a.forEach(_),this.h()},h(){v(e,"class",t=q(s[4].class??"")+" svelte-1190w9q")},m(i,a){R(i,e,a),n.m(e,null)},p(i,[a]){r===(r=l(i))&&n?n.p(i,a):(n.d(1),n=r(i),n&&(n.c(),n.m(e,null))),a&16&&t!==(t=q(i[4].class??"")+" svelte-1190w9q")&&v(e,"class",t)},i:z,o:z,d(i){i&&_(e),n.d()}}}function rt(s,e,t){let l,{handler:r}=e,{small:n=!1}=e;const i=r.getRowCount();return X(s,i,a=>t(2,l=a)),s.$$set=a=>{t(4,e=L(L({},e),W(a))),"handler"in a&&t(0,r=a.handler),"small"in a&&t(1,n=a.small)},e=W(e),[r,n,l,i,e]}class nt extends x{constructor(e){super(),$(this,e,rt,st,ee,{handler:0,small:1})}}function _e(s,e,t){const l=s.slice();return l[8]=e[t],l}function me(s){let e,t=s[0].i18n.show+"",l;return{c(){e=S("span"),l=j(t)},l(r){e=k(r,"SPAN",{});var n=C(e);l=y(n,t),n.forEach(_)},m(r,n){R(r,e,n),P(e,l)},p(r,n){n&1&&t!==(t=r[0].i18n.show+"")&&V(l,t)},d(r){r&&_(e)}}}function be(s){let e,t=s[8]+"",l,r;return{c(){e=S("option"),l=j(t),r=O(),this.h()},l(n){e=k(n,"OPTION",{});var i=C(e);l=y(i,t),r=D(i),i.forEach(_),this.h()},h(){e.__value=s[8],e.value=e.__value},m(n,i){R(n,e,i),P(e,l),P(e,r)},p:z,d(n){n&&_(e)}}}function pe(s){let e,t=s[0].i18n.entries+"",l;return{c(){e=S("span"),l=j(t)},l(r){e=k(r,"SPAN",{});var n=C(e);l=y(n,t),n.forEach(_)},m(r,n){R(r,e,n),P(e,l)},p(r,n){n&1&&t!==(t=r[0].i18n.entries+"")&&V(l,t)},d(r){r&&_(e)}}}function at(s){let e,t,l,r,n,i,a,h=!s[1]&&me(s),m=s[4],u=[];for(let o=0;o<m.length;o+=1)u[o]=be(_e(s,m,o));let c=!s[1]&&pe(s);return{c(){e=S("aside"),h&&h.c(),t=O(),l=S("select");for(let o=0;o<u.length;o+=1)u[o].c();r=O(),c&&c.c(),this.h()},l(o){e=k(o,"ASIDE",{class:!0});var f=C(e);h&&h.l(f),t=D(f),l=k(f,"SELECT",{class:!0});var d=C(l);for(let b=0;b<u.length;b+=1)u[b].l(d);d.forEach(_),r=D(f),c&&c.l(f),f.forEach(_),this.h()},h(){v(l,"class","svelte-wauwhp"),s[2]===void 0&&Re(()=>s[6].call(l)),v(e,"class",n=q(s[5].class??"")+" svelte-wauwhp")},m(o,f){R(o,e,f),h&&h.m(e,null),P(e,t),P(e,l);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(l,null);fe(l,s[2],!0),P(e,r),c&&c.m(e,null),i||(a=[H(l,"change",s[6]),H(l,"change",s[7])],i=!0)},p(o,[f]){if(o[1]?h&&(h.d(1),h=null):h?h.p(o,f):(h=me(o),h.c(),h.m(e,t)),f&16){m=o[4];let d;for(d=0;d<m.length;d+=1){const b=_e(o,m,d);u[d]?u[d].p(b,f):(u[d]=be(b),u[d].c(),u[d].m(l,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=m.length}f&20&&fe(l,o[2]),o[1]?c&&(c.d(1),c=null):c?c.p(o,f):(c=pe(o),c.c(),c.m(e,null)),f&32&&n!==(n=q(o[5].class??"")+" svelte-wauwhp")&&v(e,"class",n)},i:z,o:z,d(o){o&&_(e),h&&h.d(),ce(u,o),c&&c.d(),i=!1,re(a)}}}function it(s,e,t){let l,{handler:r}=e,{small:n=!1}=e;const i=r.getRowsPerPage();X(s,i,u=>t(2,l=u));const a=[5,10,20,50,100];function h(){l=He(this),i.set(l),t(4,a)}const m=()=>r.setPage(1);return s.$$set=u=>{t(5,e=L(L({},e),W(u))),"handler"in u&&t(0,r=u.handler),"small"in u&&t(1,n=u.small)},e=W(e),[r,n,l,i,a,e,h,m]}class ot extends x{constructor(e){super(),$(this,e,it,at,ee,{handler:0,small:1})}}function ut(s){let e,t,l,r,n;return{c(){e=S("input"),this.h()},l(i){e=k(i,"INPUT",{class:!0,placeholder:!0,spellcheck:!0}),this.h()},h(){v(e,"class",t=q(s[2].class??"")+" svelte-z8x0il"),v(e,"placeholder",l=s[0].i18n.search),v(e,"spellcheck","false")},m(i,a){R(i,e,a),oe(e,s[1]),r||(n=[H(e,"input",s[3]),H(e,"input",s[4])],r=!0)},p(i,[a]){a&4&&t!==(t=q(i[2].class??"")+" svelte-z8x0il")&&v(e,"class",t),a&1&&l!==(l=i[0].i18n.search)&&v(e,"placeholder",l),a&2&&e.value!==i[1]&&oe(e,i[1])},i:z,o:z,d(i){i&&_(e),r=!1,re(n)}}}function ct(s,e,t){let{handler:l}=e,r="";function n(){r=this.value,t(1,r)}const i=()=>l.search(r);return s.$$set=a=>{t(2,e=L(L({},e),W(a))),"handler"in a&&t(0,l=a.handler)},e=W(e),[l,r,e,n,i]}class ft extends x{constructor(e){super(),$(this,e,ct,ut,ee,{handler:0})}}function ht(s){let e,t,l,r,n,i,a,h,m;const u=s[8].default,c=Ne(u,s,s[7],null);return{c(){e=S("th"),t=S("div"),l=S("strong"),c&&c.c(),r=O(),n=S("span"),this.h()},l(o){e=k(o,"TH",{class:!0});var f=C(e);t=k(f,"DIV",{class:!0});var d=C(t);l=k(d,"STRONG",{class:!0});var b=C(l);c&&c.l(b),b.forEach(_),r=D(d),n=k(d,"SPAN",{class:!0}),C(n).forEach(_),d.forEach(_),f.forEach(_),this.h()},h(){v(l,"class","svelte-10d8otj"),v(n,"class","svelte-10d8otj"),N(n,"asc",s[3].direction==="asc"),N(n,"desc",s[3].direction==="desc"),v(t,"class","flex svelte-10d8otj"),se(t,"justify-content",s[2]==="left"?"flex-start":s[2]==="right"?"flex-end":"center"),v(e,"class",i=q(s[6].class??"")+" svelte-10d8otj"),N(e,"sortable",s[1]),N(e,"active",s[3].identifier===s[4])},m(o,f){R(o,e,f),P(e,t),P(t,l),c&&c.m(l,null),P(t,r),P(t,n),a=!0,h||(m=H(e,"click",s[9]),h=!0)},p(o,[f]){c&&c.p&&(!a||f&128)&&Ae(c,u,o,o[7],a?De(u,o[7],f,null):Oe(o[7]),null),(!a||f&8)&&N(n,"asc",o[3].direction==="asc"),(!a||f&8)&&N(n,"desc",o[3].direction==="desc"),f&4&&se(t,"justify-content",o[2]==="left"?"flex-start":o[2]==="right"?"flex-end":"center"),(!a||f&64&&i!==(i=q(o[6].class??"")+" svelte-10d8otj"))&&v(e,"class",i),(!a||f&66)&&N(e,"sortable",o[1]),(!a||f&88)&&N(e,"active",o[3].identifier===o[4])},i(o){a||(A(c,o),a=!0)},o(o){I(c,o),a=!1},d(o){o&&_(e),c&&c.d(o),h=!1,m()}}}function dt(s,e,t){let l,{$$slots:r={},$$scope:n}=e,{handler:i}=e,{orderBy:a=null}=e,{align:h="left"}=e;const m=a&&a.toString(),u=i.getSorted();X(s,u,o=>t(3,l=o));const c=()=>i.sort(a);return s.$$set=o=>{t(6,e=L(L({},e),W(o))),"handler"in o&&t(0,i=o.handler),"orderBy"in o&&t(1,a=o.orderBy),"align"in o&&t(2,h=o.align),"$$scope"in o&&t(7,n=o.$$scope)},e=W(e),[i,a,h,l,m,u,e,n,r,c]}class ve extends x{constructor(e){super(),$(this,e,dt,ht,ee,{handler:0,orderBy:1,align:2})}}function gt(s){let e,t,l,r,n,i;return{c(){e=S("th"),t=S("input"),this.h()},l(a){e=k(a,"TH",{class:!0});var h=C(e);t=k(h,"INPUT",{type:!0,placeholder:!0,spellcheck:!0,class:!0}),h.forEach(_),this.h()},h(){v(t,"type","text"),v(t,"placeholder",l=s[0].i18n.filter),v(t,"spellcheck","false"),v(t,"class","svelte-18ay28x"),se(t,"text-align",s[2]),v(e,"class",r=q(s[5].class??"")+" svelte-18ay28x")},m(a,h){R(a,e,h),P(e,t),oe(t,s[4]),n||(i=[H(t,"input",s[6]),H(t,"input",s[7])],n=!0)},p(a,[h]){h&1&&l!==(l=a[0].i18n.filter)&&v(t,"placeholder",l),h&16&&t.value!==a[4]&&oe(t,a[4]),h&4&&se(t,"text-align",a[2]),h&32&&r!==(r=q(a[5].class??"")+" svelte-18ay28x")&&v(e,"class",r)},i:z,o:z,d(a){a&&_(e),n=!1,re(i)}}}function _t(s,e,t){let{handler:l}=e,{filterBy:r=null}=e,{align:n="left"}=e,{comparator:i=null}=e,a="";function h(){a=this.value,t(4,a)}const m=()=>l.filter(a,r,i);return s.$$set=u=>{t(5,e=L(L({},e),W(u))),"handler"in u&&t(0,l=u.handler),"filterBy"in u&&t(1,r=u.filterBy),"align"in u&&t(2,n=u.align),"comparator"in u&&t(3,i=u.comparator)},e=W(e),[l,r,n,i,a,e,h,m]}class we extends x{constructor(e){super(),$(this,e,_t,gt,ee,{handler:0,filterBy:1,align:2,comparator:3})}}function Pe(s){let e,t;return e=new ft({props:{handler:s[0]}}),{c(){G(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,r){K(e,l,r),t=!0},p(l,r){const n={};r&1&&(n.handler=l[0]),e.$set(n)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Se(s){let e,t;return e=new ot({props:{handler:s[0],small:s[6]<600}}),{c(){G(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,r){K(e,l,r),t=!0},p(l,r){const n={};r&1&&(n.handler=l[0]),r&64&&(n.small=l[6]<600),e.$set(n)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function ke(s){let e,t;return e=new nt({props:{handler:s[0],small:s[6]<600}}),{c(){G(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,r){K(e,l,r),t=!0},p(l,r){const n={};r&1&&(n.handler=l[0]),r&64&&(n.small=l[6]<600),e.$set(n)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Ce(s){let e,t;return e=new Ze({props:{handler:s[0],small:s[6]<600}}),{c(){G(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,r){K(e,l,r),t=!0},p(l,r){const n={};r&1&&(n.handler=l[0]),r&64&&(n.small=l[6]<600),e.$set(n)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function mt(s){let e,t,l,r,n,i,a,h,m,u,c,o=s[1]&&Pe(s),f=s[2]&&Se(s);const d=s[12].default,b=Ne(d,s,s[11],null);let w=s[3]&&ke(s),p=s[4]&&Ce(s);return{c(){e=S("section"),t=S("header"),o&&o.c(),l=O(),f&&f.c(),r=O(),n=S("article"),b&&b.c(),i=O(),a=S("footer"),w&&w.c(),h=O(),p&&p.c(),this.h()},l(g){e=k(g,"SECTION",{class:!0});var E=C(e);t=k(E,"HEADER",{class:!0});var U=C(t);o&&o.l(U),l=D(U),f&&f.l(U),U.forEach(_),r=D(E),n=k(E,"ARTICLE",{style:!0,class:!0});var B=C(n);b&&b.l(B),B.forEach(_),i=D(E),a=k(E,"FOOTER",{class:!0});var F=C(a);w&&w.l(F),h=D(F),p&&p.l(F),F.forEach(_),E.forEach(_),this.h()},h(){v(t,"class","svelte-mpbqnj"),N(t,"container",s[1]||s[2]),se(n,"height","calc(100% - "+s[7]+"px)"),v(n,"class","svelte-mpbqnj"),v(a,"class","svelte-mpbqnj"),N(a,"container",s[3]||s[4]),v(e,"class",m=q(s[9].class??"")+" svelte-mpbqnj"),Re(()=>s[14].call(e))},m(g,E){R(g,e,E),P(e,t),o&&o.m(t,null),P(t,l),f&&f.m(t,null),P(e,r),P(e,n),b&&b.m(n,null),s[13](n),P(e,i),P(e,a),w&&w.m(a,null),P(a,h),p&&p.m(a,null),u=qe(e,s[14].bind(e)),c=!0},p(g,[E]){g[1]?o?(o.p(g,E),E&2&&A(o,1)):(o=Pe(g),o.c(),A(o,1),o.m(t,l)):o&&(ne(),I(o,1,1,()=>{o=null}),ae()),g[2]?f?(f.p(g,E),E&4&&A(f,1)):(f=Se(g),f.c(),A(f,1),f.m(t,null)):f&&(ne(),I(f,1,1,()=>{f=null}),ae()),(!c||E&6)&&N(t,"container",g[1]||g[2]),b&&b.p&&(!c||E&2048)&&Ae(b,d,g,g[11],c?De(d,g[11],E,null):Oe(g[11]),null),g[3]?w?(w.p(g,E),E&8&&A(w,1)):(w=ke(g),w.c(),A(w,1),w.m(a,h)):w&&(ne(),I(w,1,1,()=>{w=null}),ae()),g[4]?p?(p.p(g,E),E&16&&A(p,1)):(p=Ce(g),p.c(),A(p,1),p.m(a,null)):p&&(ne(),I(p,1,1,()=>{p=null}),ae()),(!c||E&24)&&N(a,"container",g[3]||g[4]),(!c||E&512&&m!==(m=q(g[9].class??"")+" svelte-mpbqnj"))&&v(e,"class",m)},i(g){c||(A(o),A(f),A(b,g),A(w),A(p),c=!0)},o(g){I(o),I(f),I(b,g),I(w),I(p),c=!1},d(g){g&&_(e),o&&o.d(),f&&f.d(),b&&b.d(g),s[13](null),w&&w.d(),p&&p.d(),u()}}}function bt(s,e,t){let l,{$$slots:r={},$$scope:n}=e,{handler:i}=e,{search:a=!0}=e,{rowsPerPage:h=!0}=e,{rowCount:m=!0}=e,{pagination:u=!0}=e,c,o=1e3;const f=(a||h?48:8)+(m||u?48:8),d=i.getTriggerChange();X(s,d,g=>t(10,l=g));const b=()=>{c&&t(5,c.scrollTop=0,c)};function w(g){Le[g?"unshift":"push"](()=>{c=g,t(5,c)})}function p(){o=this.clientWidth,t(6,o)}return s.$$set=g=>{t(9,e=L(L({},e),W(g))),"handler"in g&&t(0,i=g.handler),"search"in g&&t(1,a=g.search),"rowsPerPage"in g&&t(2,h=g.rowsPerPage),"rowCount"in g&&t(3,m=g.rowCount),"pagination"in g&&t(4,u=g.pagination),"$$scope"in g&&t(11,n=g.$$scope)},s.$$.update=()=>{s.$$.dirty&1024&&b()},e=W(e),[i,a,h,m,u,c,o,f,d,e,l,n,r,w,p]}class pt extends x{constructor(e){super(),$(this,e,bt,mt,ee,{handler:0,search:1,rowsPerPage:2,rowCount:3,pagination:4})}}function Ee(s,e,t){const l=s.slice();return l[7]=e[t],l}function vt(s){let e;return{c(){e=j("Name")},l(t){e=y(t,"Name")},m(t,l){R(t,e,l)},d(t){t&&_(e)}}}function wt(s){let e;return{c(){e=j("Source")},l(t){e=y(t,"Source")},m(t,l){R(t,e,l)},d(t){t&&_(e)}}}function Te(s){let e,t,l,r=s[7].name+"",n,i,a,h,m,u=s[7].source+"",c,o,f;return{c(){e=S("tr"),t=S("td"),l=S("a"),n=j(r),a=O(),h=S("td"),m=S("a"),c=j(u),f=O(),this.h()},l(d){e=k(d,"TR",{class:!0});var b=C(e);t=k(b,"TD",{class:!0});var w=C(t);l=k(w,"A",{href:!0,class:!0});var p=C(l);n=y(p,r),p.forEach(_),w.forEach(_),a=D(b),h=k(b,"TD",{class:!0});var g=C(h);m=k(g,"A",{href:!0,class:!0});var E=C(m);c=y(E,u),E.forEach(_),g.forEach(_),f=D(b),b.forEach(_),this.h()},h(){v(l,"href",i="#"+s[7].hash),v(l,"class","flex unstyled"),v(t,"class","px-5"),v(m,"href",o="#"+s[7].hash),v(m,"class","flex unstyled"),v(h,"class","px-5"),v(e,"class","bg-[#cbcbcb] hover:bg-[#d3d3d3] dark:bg-[#222] dark:hover:bg-[#333]")},m(d,b){R(d,e,b),P(e,t),P(t,l),P(l,n),P(e,a),P(e,h),P(h,m),P(m,c),P(e,f)},p(d,b){b&1&&r!==(r=d[7].name+"")&&V(n,r),b&1&&i!==(i="#"+d[7].hash)&&v(l,"href",i),b&1&&u!==(u=d[7].source+"")&&V(c,u),b&1&&o!==(o="#"+d[7].hash)&&v(m,"href",o)},d(d){d&&_(e)}}}function Pt(s){let e,t,l,r,n,i,a,h,m,u,c,o,f,d;r=new ve({props:{handler:s[3],orderBy:"name",$$slots:{default:[vt]},$$scope:{ctx:s}}}),i=new ve({props:{handler:s[3],orderBy:"source",$$slots:{default:[wt]},$$scope:{ctx:s}}}),m=new we({props:{handler:s[3],filterBy:"name"}}),c=new we({props:{handler:s[3],filterBy:"source"}});let b=s[0],w=[];for(let p=0;p<b.length;p+=1)w[p]=Te(Ee(s,b,p));return{c(){e=S("table"),t=S("thead"),l=S("tr"),G(r.$$.fragment),n=O(),G(i.$$.fragment),a=O(),h=S("tr"),G(m.$$.fragment),u=O(),G(c.$$.fragment),o=O(),f=S("tbody");for(let p=0;p<w.length;p+=1)w[p].c();this.h()},l(p){e=k(p,"TABLE",{});var g=C(e);t=k(g,"THEAD",{});var E=C(t);l=k(E,"TR",{class:!0});var U=C(l);Y(r.$$.fragment,U),n=D(U),Y(i.$$.fragment,U),U.forEach(_),a=D(E),h=k(E,"TR",{class:!0});var B=C(h);Y(m.$$.fragment,B),u=D(B),Y(c.$$.fragment,B),B.forEach(_),E.forEach(_),o=D(g),f=k(g,"TBODY",{});var F=C(f);for(let ue=0;ue<w.length;ue+=1)w[ue].l(F);F.forEach(_),g.forEach(_),this.h()},h(){v(l,"class","bg-surface-300-600-token"),v(h,"class","bg-surface-200-700-token")},m(p,g){R(p,e,g),P(e,t),P(t,l),K(r,l,null),P(l,n),K(i,l,null),P(t,a),P(t,h),K(m,h,null),P(h,u),K(c,h,null),P(e,o),P(e,f);for(let E=0;E<w.length;E+=1)w[E]&&w[E].m(f,null);d=!0},p(p,g){const E={};g&1024&&(E.$$scope={dirty:g,ctx:p}),r.$set(E);const U={};if(g&1024&&(U.$$scope={dirty:g,ctx:p}),i.$set(U),g&1){b=p[0];let B;for(B=0;B<b.length;B+=1){const F=Ee(p,b,B);w[B]?w[B].p(F,g):(w[B]=Te(F),w[B].c(),w[B].m(f,null))}for(;B<w.length;B+=1)w[B].d(1);w.length=b.length}},i(p){d||(A(r.$$.fragment,p),A(i.$$.fragment,p),A(m.$$.fragment,p),A(c.$$.fragment,p),d=!0)},o(p){I(r.$$.fragment,p),I(i.$$.fragment,p),I(m.$$.fragment,p),I(c.$$.fragment,p),d=!1},d(p){p&&_(e),Q(r),Q(i),Q(m),Q(c),ce(w,p)}}}function St(s){let e,t,l,r,n,i,a,h,m;return document.title=e=(s[2]?s[2].name:"Ancestries")+" - PF2ools",n=new pt({props:{handler:s[3],rowsPerPage:!1,rowCount:!1,pagination:!1,$$slots:{default:[Pt]},$$scope:{ctx:s}}}),{c(){t=O(),l=S("div"),r=S("div"),G(n.$$.fragment),i=O(),a=S("div"),h=j("aaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.h()},l(u){We("svelte-1q5bze3",document.head).forEach(_),t=D(u),l=k(u,"DIV",{class:!0});var o=C(l);r=k(o,"DIV",{class:!0});var f=C(r);Y(n.$$.fragment,f),f.forEach(_),i=D(o),a=k(o,"DIV",{class:!0});var d=C(a);h=y(d,"aaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),d.forEach(_),o.forEach(_),this.h()},h(){v(r,"class","view-col w-1/2"),v(a,"class","view-col w-1/2 p-4"),v(l,"class","container flex h-[90vh]")},m(u,c){R(u,t,c),R(u,l,c),P(l,r),K(n,r,null),P(l,i),P(l,a),P(a,h),m=!0},p(u,[c]){(!m||c&4)&&e!==(e=(u[2]?u[2].name:"Ancestries")+" - PF2ools")&&(document.title=e);const o={};c&1025&&(o.$$scope={dirty:c,ctx:u}),n.$set(o)},i(u){m||(A(n.$$.fragment,u),m=!0)},o(u){I(n.$$.fragment,u),m=!1},d(u){u&&_(t),u&&_(l),Q(n)}}}function kt(s,e,t){let l,r;const{ancestries:n,heritages:i}=new Ue;X(s,n,u=>t(5,l=u)),n.load();let a;const h=new Ge(l.toValueArray()),m=h.getRows();return X(s,m,u=>t(0,r=u)),s.$$.update=()=>{s.$$.dirty&32&&h.setRows(l.toValueArray())},[r,n,a,h,m,l]}class At extends x{constructor(e){super(),$(this,e,kt,St,ee,{})}}export{At as component};
