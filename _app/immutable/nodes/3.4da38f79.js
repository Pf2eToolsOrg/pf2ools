import{_ as q}from"../chunks/preload-helper.41c905a7.js";import{D as Et,g as At,R as Pt,T as It}from"../chunks/Renderer.c070dd3a.js";import{S as De,i as we,s as Ee,C as Ae,k as A,a as H,l as V,m as O,h as g,c as G,n as E,b as te,O as m,P as x,D as Ve,E as je,F as Oe,g as M,v as be,d as W,f as ye,Q as Re,R as Ue,G as Ie,H as Le,I as Se,Z as ve,aj as Vt,a3 as xe,a0 as jt,ak as $e,U as Te,w as Be,q as Z,r as Y,a4 as et,$ as tt,ai as Ot,ah as ce,y as de,z as he,A as me,B as _e,_ as Tt,a9 as pe,al as Ne,am as Fe,X as kt,a8 as Lt,o as Rt,a7 as St,u as ke}from"../chunks/index.db2a9e3f.js";import{h as rt}from"../chunks/index.e248da5c.js";import{j as Ct}from"../chunks/singletons.18e1ec28.js";import{l as Bt,F as nt,i as Ut,j as Nt,m as Ft}from"../chunks/MiscUtils.679e4c0c.js";import{w as zt}from"../chunks/index.16e709dc.js";import{p as qt}from"../chunks/stores.b6f792ef.js";const Mt=r=>({}),at=r=>({});function st(r){let e,t,n;const o=r[17].panel,s=Ae(o,r,r[16],at);return{c(){e=A("div"),s&&s.c(),this.h()},l(a){e=V(a,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var c=O(e);s&&s.l(c),c.forEach(g),this.h()},h(){E(e,"class",t="tab-panel "+r[2]),E(e,"role","tabpanel"),E(e,"aria-labelledby",r[1]),E(e,"tabindex","0")},m(a,c){te(a,e,c),s&&s.m(e,null),n=!0},p(a,c){s&&s.p&&(!n||c&65536)&&Ve(s,o,a,a[16],n?Oe(o,a[16],c,Mt):je(a[16]),at),(!n||c&4&&t!==(t="tab-panel "+a[2]))&&E(e,"class",t),(!n||c&2)&&E(e,"aria-labelledby",a[1])},i(a){n||(M(s,a),n=!0)},o(a){W(s,a),n=!1},d(a){a&&g(e),s&&s.d(a)}}}function Ht(r){let e,t,n,o,s,a,c,f;const D=r[17].default,p=Ae(D,r,r[16],null);let _=r[5].panel&&st(r);return{c(){e=A("div"),t=A("div"),p&&p.c(),o=H(),_&&_.c(),this.h()},l(l){e=V(l,"DIV",{class:!0,"data-testid":!0});var I=O(e);t=V(I,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var w=O(t);p&&p.l(w),w.forEach(g),o=G(I),_&&_.l(I),I.forEach(g),this.h()},h(){E(t,"class",n="tab-list "+r[3]),E(t,"role","tablist"),E(t,"aria-labelledby",r[0]),E(e,"class",s="tab-group "+r[4]),E(e,"data-testid","tab-group")},m(l,I){te(l,e,I),m(e,t),p&&p.m(t,null),m(e,o),_&&_.m(e,null),a=!0,c||(f=[x(e,"click",r[18]),x(e,"keypress",r[19]),x(e,"keydown",r[20]),x(e,"keyup",r[21])],c=!0)},p(l,[I]){p&&p.p&&(!a||I&65536)&&Ve(p,D,l,l[16],a?Oe(D,l[16],I,null):je(l[16]),null),(!a||I&8&&n!==(n="tab-list "+l[3]))&&E(t,"class",n),(!a||I&1)&&E(t,"aria-labelledby",l[0]),l[5].panel?_?(_.p(l,I),I&32&&M(_,1)):(_=st(l),_.c(),M(_,1),_.m(e,null)):_&&(be(),W(_,1,1,()=>{_=null}),ye()),(!a||I&16&&s!==(s="tab-group "+l[4]))&&E(e,"class",s)},i(l){a||(M(p,l),M(_),a=!0)},o(l){W(p,l),W(_),a=!1},d(l){l&&g(e),p&&p.d(l),_&&_.d(),c=!1,Re(f)}}}const Gt="space-y-4",Xt="flex overflow-x-auto hide-scrollbar",Kt="";function Wt(r,e,t){let n,o,s,{$$slots:a={},$$scope:c}=e;const f=Ue(a);let{justify:D="justify-start"}=e,{border:p="border-b border-surface-400-500-token"}=e,{active:_="border-b-2 border-surface-900-50-token"}=e,{hover:l="hover:variant-soft"}=e,{flex:I="flex-none"}=e,{padding:w="px-4 py-2"}=e,{rounded:S="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:j="space-y-1"}=e,{regionList:b=""}=e,{regionPanel:v=""}=e,{labelledby:L=""}=e,{panel:C=""}=e;Ie("active",_),Ie("hover",l),Ie("flex",I),Ie("padding",w),Ie("rounded",S),Ie("spacing",j);function h(u){ve.call(this,r,u)}function P(u){ve.call(this,r,u)}function i(u){ve.call(this,r,u)}function d(u){ve.call(this,r,u)}return r.$$set=u=>{t(22,e=Le(Le({},e),Se(u))),"justify"in u&&t(6,D=u.justify),"border"in u&&t(7,p=u.border),"active"in u&&t(8,_=u.active),"hover"in u&&t(9,l=u.hover),"flex"in u&&t(10,I=u.flex),"padding"in u&&t(11,w=u.padding),"rounded"in u&&t(12,S=u.rounded),"spacing"in u&&t(13,j=u.spacing),"regionList"in u&&t(14,b=u.regionList),"regionPanel"in u&&t(15,v=u.regionPanel),"labelledby"in u&&t(0,L=u.labelledby),"panel"in u&&t(1,C=u.panel),"$$scope"in u&&t(16,c=u.$$scope)},r.$$.update=()=>{t(4,n=`${Gt} ${e.class??""}`),r.$$.dirty&16576&&t(3,o=`${Xt} ${D} ${p} ${b}`),r.$$.dirty&32768&&t(2,s=`${Kt} ${v}`)},e=Se(e),[L,C,s,o,n,f,D,p,_,l,I,w,S,j,b,v,c,a,h,P,i,d]}class Jt extends De{constructor(e){super(),we(this,e,Wt,Ht,Ee,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const Qt=r=>({}),ot=r=>({});function it(r){let e,t;const n=r[19].lead,o=Ae(n,r,r[18],ot);return{c(){e=A("div"),o&&o.c(),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=O(e);o&&o.l(a),a.forEach(g),this.h()},h(){E(e,"class","tab-lead")},m(s,a){te(s,e,a),o&&o.m(e,null),t=!0},p(s,a){o&&o.p&&(!t||a&262144)&&Ve(o,n,s,s[18],t?Oe(n,s[18],a,Qt):je(s[18]),ot)},i(s){t||(M(o,s),t=!0)},o(s){W(o,s),t=!1},d(s){s&&g(e),o&&o.d(s)}}}function Zt(r){let e,t,n,o,s,a,c,f,D,p,_,l,I,w,S,j=[{type:"radio"},{name:r[1]},{__value:r[2]},r[9](),{tabindex:"-1"}],b={};for(let h=0;h<j.length;h+=1)b=Le(b,j[h]);let v=r[10].lead&&it(r);const L=r[19].default,C=Ae(L,r,r[18],null);return I=Vt(r[27][0]),{c(){e=A("label"),t=A("div"),n=A("div"),o=A("input"),s=H(),a=A("div"),v&&v.c(),c=H(),f=A("div"),C&&C.c(),this.h()},l(h){e=V(h,"LABEL",{});var P=O(e);t=V(P,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var i=O(t);n=V(i,"DIV",{class:!0});var d=O(n);o=V(d,"INPUT",{type:!0,name:!0,tabindex:!0}),d.forEach(g),s=G(i),a=V(i,"DIV",{class:!0});var u=O(a);v&&v.l(u),c=G(u),f=V(u,"DIV",{class:!0});var y=O(f);C&&C.l(y),y.forEach(g),u.forEach(g),i.forEach(g),P.forEach(g),this.h()},h(){xe(o,b),E(n,"class","h-0 w-0 overflow-hidden"),E(f,"class","tab-label"),E(a,"class",D="tab-interface "+r[6]),E(t,"class",p="tab "+r[7]),E(t,"data-testid","tab"),E(t,"role","tab"),E(t,"aria-controls",r[3]),E(t,"aria-selected",r[4]),E(t,"tabindex",_=r[4]?0:-1),I.p(o)},m(h,P){te(h,e,P),m(e,t),m(t,n),m(n,o),o.autofocus&&o.focus(),r[25](o),o.checked=o.__value===r[0],m(t,s),m(t,a),v&&v.m(a,null),m(a,c),m(a,f),C&&C.m(f,null),l=!0,w||(S=[x(o,"change",r[26]),x(o,"click",r[23]),x(o,"change",r[24]),x(t,"keydown",r[8]),x(t,"keydown",r[20]),x(t,"keyup",r[21]),x(t,"keypress",r[22])],w=!0)},p(h,[P]){xe(o,b=jt(j,[{type:"radio"},(!l||P&2)&&{name:h[1]},(!l||P&4)&&{__value:h[2]},h[9](),{tabindex:"-1"}])),P&1&&(o.checked=o.__value===h[0]),h[10].lead?v?(v.p(h,P),P&1024&&M(v,1)):(v=it(h),v.c(),M(v,1),v.m(a,c)):v&&(be(),W(v,1,1,()=>{v=null}),ye()),C&&C.p&&(!l||P&262144)&&Ve(C,L,h,h[18],l?Oe(L,h[18],P,null):je(h[18]),null),(!l||P&64&&D!==(D="tab-interface "+h[6]))&&E(a,"class",D),(!l||P&128&&p!==(p="tab "+h[7]))&&E(t,"class",p),(!l||P&8)&&E(t,"aria-controls",h[3]),(!l||P&16)&&E(t,"aria-selected",h[4]),(!l||P&16&&_!==(_=h[4]?0:-1))&&E(t,"tabindex",_)},i(h){l||(M(v),M(C,h),l=!0)},o(h){W(v),W(C,h),l=!1},d(h){h&&g(e),r[25](null),v&&v.d(),C&&C.d(h),I.r(),w=!1,Re(S)}}}const Yt="text-center cursor-pointer transition-colors duration-100",xt="";function $t(r,e,t){let n,o,s,a;const c=["group","name","value","controls","active","hover","flex","padding","rounded","spacing"];let f=$e(e,c),{$$slots:D={},$$scope:p}=e;const _=Ue(D);let{group:l}=e,{name:I}=e,{value:w}=e,{controls:S=""}=e,{active:j=Te("active")}=e,{hover:b=Te("hover")}=e,{flex:v=Te("flex")}=e,{padding:L=Te("padding")}=e,{rounded:C=Te("rounded")}=e,{spacing:h=Te("spacing")}=e,P;function i(T){if(["Enter","Space"].includes(T.code))T.preventDefault(),P.click();else if(T.code==="ArrowRight"){const ie=P.closest(".tab-list");if(!ie)return;const ee=Array.from(ie.querySelectorAll(".tab")),Q=P.closest(".tab");if(!Q)return;const $=ee.indexOf(Q),oe=$+1>=ee.length?0:$+1,X=ee[oe],ae=X==null?void 0:X.querySelector("input");X&&ae&&(ae.click(),X.focus())}else if(T.code==="ArrowLeft"){const ie=P.closest(".tab-list");if(!ie)return;const ee=Array.from(ie.querySelectorAll(".tab")),Q=P.closest(".tab");if(!Q)return;const $=ee.indexOf(Q),oe=$-1<0?ee.length-1:$-1,X=ee[oe],ae=X==null?void 0:X.querySelector("input");X&&ae&&(ae.click(),X.focus())}}function d(){return delete f.class,f}const u=[[]];function y(T){ve.call(this,r,T)}function N(T){ve.call(this,r,T)}function F(T){ve.call(this,r,T)}function R(T){ve.call(this,r,T)}function B(T){ve.call(this,r,T)}function re(T){Be[T?"unshift":"push"](()=>{P=T,t(5,P)})}function se(){l=this.__value,t(0,l)}return r.$$set=T=>{t(29,e=Le(Le({},e),Se(T))),t(28,f=$e(e,c)),"group"in T&&t(0,l=T.group),"name"in T&&t(1,I=T.name),"value"in T&&t(2,w=T.value),"controls"in T&&t(3,S=T.controls),"active"in T&&t(11,j=T.active),"hover"in T&&t(12,b=T.hover),"flex"in T&&t(13,v=T.flex),"padding"in T&&t(14,L=T.padding),"rounded"in T&&t(15,C=T.rounded),"spacing"in T&&t(16,h=T.spacing),"$$scope"in T&&t(18,p=T.$$scope)},r.$$.update=()=>{r.$$.dirty&5&&t(4,n=w===l),r.$$.dirty&6160&&t(17,o=n?j:b),t(7,s=`${Yt} ${v} ${L} ${C} ${o} ${e.class??""}`),r.$$.dirty&65536&&t(6,a=`${xt} ${h}`)},e=Se(e),[l,I,w,S,n,P,a,s,i,d,_,j,b,v,L,C,h,o,p,D,y,N,F,R,B,re,se,u]}class ze extends De{constructor(e){super(),we(this,e,$t,Zt,Ee,{group:0,name:1,value:2,controls:3,active:11,hover:12,flex:13,padding:14,rounded:15,spacing:16})}}class er extends Et{constructor(e){super(e),this.traitsPrototype=e.traits,Object.defineProperty(this,"traits",{get(){return[this.traitsPrototype,this.size,this.rarity??"common"].flat()}})}get type(){return"ancestry"}get extraHp(){let e=[];return this.heritage.forEach(t=>{var n,o;(o=(n=t==null?void 0:t.modif)==null?void 0:n.hp)!=null&&o.ancestry&&e.push({hp:t.modif.hp.ancestry,name:t.name,source:t.source,hash:this.hashify(t.name,t.source)})}),e.length?e:null}get heritages(){const e=new Map;return this.heritage.map(t=>{const n=new tr(t,this);e.set(n.hash,n)}),e}}class tr extends Et{constructor(e,t){super(e),this.ancestry={name:t.name,source:t.source}}get type(){return"heritage"}tag(e){return`${this.ancestry.name}|${this.ancestry.source}|${e||this.name}|${this.shortName}|${this.source}`}}const lt=Object.assign({"/src/data/core/ancestries/ancestry-anadi.json":()=>q(()=>import("../chunks/ancestry-anadi.c7960efb.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-android.json":()=>q(()=>import("../chunks/ancestry-android.22dcb6be.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-automaton.json":()=>q(()=>import("../chunks/ancestry-automaton.fee60d93.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-azarketi.json":()=>q(()=>import("../chunks/ancestry-azarketi.3b917f28.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-catfolk.json":()=>q(()=>import("../chunks/ancestry-catfolk.bd5045af.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-conrasu.json":()=>q(()=>import("../chunks/ancestry-conrasu.da2e4c50.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-dwarf.json":()=>q(()=>import("../chunks/ancestry-dwarf.a9c56490.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-elf.json":()=>q(()=>import("../chunks/ancestry-elf.a6be3b57.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-fetchling.json":()=>q(()=>import("../chunks/ancestry-fetchling.e33e9008.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-fleshwarp.json":()=>q(()=>import("../chunks/ancestry-fleshwarp.595602f6.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-ghoran.json":()=>q(()=>import("../chunks/ancestry-ghoran.6df40ca1.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-gnoll.json":()=>q(()=>import("../chunks/ancestry-gnoll.126cb3ed.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-gnome.json":()=>q(()=>import("../chunks/ancestry-gnome.29e51bc5.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-goblin.json":()=>q(()=>import("../chunks/ancestry-goblin.20b6d1cf.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-goloma.json":()=>q(()=>import("../chunks/ancestry-goloma.dd6e3190.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-grippli.json":()=>q(()=>import("../chunks/ancestry-grippli.fdaff84b.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-halfling.json":()=>q(()=>import("../chunks/ancestry-halfling.869fea2a.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-hobgoblin.json":()=>q(()=>import("../chunks/ancestry-hobgoblin.1982cdf8.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-human.json":()=>q(()=>import("../chunks/ancestry-human.c6d51bf9.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-kashrishi.json":()=>q(()=>import("../chunks/ancestry-kashrishi.d4a79401.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-kitsune.json":()=>q(()=>import("../chunks/ancestry-kitsune.7a0d21b9.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-kobold.json":()=>q(()=>import("../chunks/ancestry-kobold.943b8121.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-leshy.json":()=>q(()=>import("../chunks/ancestry-leshy.4488d032.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-lizardfolk.json":()=>q(()=>import("../chunks/ancestry-lizardfolk.838c0136.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-nagaji.json":()=>q(()=>import("../chunks/ancestry-nagaji.4695cdf8.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-orc.json":()=>q(()=>import("../chunks/ancestry-orc.0dc73a51.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-poppet.json":()=>q(()=>import("../chunks/ancestry-poppet.65e96566.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-ratfolk.json":()=>q(()=>import("../chunks/ancestry-ratfolk.4edfccc8.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-shisk.json":()=>q(()=>import("../chunks/ancestry-shisk.454bc4c6.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-shoony.json":()=>q(()=>import("../chunks/ancestry-shoony.4507cf60.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-skeleton.json":()=>q(()=>import("../chunks/ancestry-skeleton.e21ad147.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-sprite.json":()=>q(()=>import("../chunks/ancestry-sprite.e86541d9.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-strix.json":()=>q(()=>import("../chunks/ancestry-strix.41a15f4b.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-tengu.json":()=>q(()=>import("../chunks/ancestry-tengu.d6b302cb.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-vanara.json":()=>q(()=>import("../chunks/ancestry-vanara.f23f4f4a.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-vishkanya.json":()=>q(()=>import("../chunks/ancestry-vishkanya.7c187811.js"),[],import.meta.url)});async function rr(){const r=new Map;for(const e in lt)await lt[e]().then(t=>{t.ancestry.forEach(o=>{o._path=e;const s=new er(o);r.set(s.hash,s)})});return{ancestries:r}}const Sr=Object.freeze(Object.defineProperty({__proto__:null,load:rr},Symbol.toStringTag,{value:"Module"})),nr=Ct("goto");function ct(r,e,t){const n=r.slice();return n[13]=e[t],n}const ar=r=>({item:r&9}),ut=r=>({item:r[13]}),sr=r=>({}),ft=r=>({});function dt(r){let e,t;const n=r[9].header,o=Ae(n,r,r[8],ft);return{c(){e=A("div"),o&&o.c(),this.h()},l(s){e=V(s,"DIV",{class:!0});var a=O(e);o&&o.l(a),a.forEach(g),this.h()},h(){E(e,"class","row header px-1 svelte-auiqv")},m(s,a){te(s,e,a),o&&o.m(e,null),t=!0},p(s,a){o&&o.p&&(!t||a&256)&&Ve(o,n,s,s[8],t?Oe(n,s[8],a,sr):je(s[8]),ft)},i(s){t||(M(o,s),t=!0)},o(s){W(o,s),t=!1},d(s){s&&g(e),o&&o.d(s)}}}function ht(r){let e,t,n,o,s;const a=r[9].list,c=Ae(a,r,r[8],ut);return{c(){e=A("div"),t=A("a"),c&&c.c(),o=H(),this.h()},l(f){e=V(f,"DIV",{class:!0});var D=O(e);t=V(D,"A",{href:!0,class:!0});var p=O(t);c&&c.l(p),p.forEach(g),o=G(D),D.forEach(g),this.h()},h(){E(t,"href",n="#"+r[13].hash),E(t,"class","unstyled"),E(e,"class","row text-sm px-1 leading-5 bg-[#cbcbcb] hover:bg-[#d3d3d3] dark:bg-[#222] dark:hover:bg-[#333]  svelte-auiqv"),ce(e,"selected",r[13].hash===r[1].hash)},m(f,D){te(f,e,D),m(e,t),c&&c.m(t,null),m(e,o),s=!0},p(f,D){c&&c.p&&(!s||D&265)&&Ve(c,a,f,f[8],s?Oe(a,f[8],D,ar):je(f[8]),ut),(!s||D&9&&n!==(n="#"+f[13].hash))&&E(t,"href",n),(!s||D&11)&&ce(e,"selected",f[13].hash===f[1].hash)},i(f){s||(M(c,f),s=!0)},o(f){W(c,f),s=!1},d(f){f&&g(e),c&&c.d(f)}}}function or(r){let e,t,n,o,s,a,c,f,D,p,_,l,I,w,S,j,b=r[5].header&&dt(r),v=r[0].filter(r[3]).toValueArray(),L=[];for(let h=0;h<v.length;h+=1)L[h]=ht(ct(r,v,h));const C=h=>W(L[h],1,1,()=>{L[h]=null});return{c(){e=A("button"),t=H(),n=A("button"),o=H(),s=A("div"),a=A("div"),c=A("button"),f=Z("Filters"),D=H(),p=A("input"),_=H(),b&&b.c(),l=H(),I=A("div");for(let h=0;h<L.length;h+=1)L[h].c();this.h()},l(h){e=V(h,"BUTTON",{class:!0}),O(e).forEach(g),t=G(h),n=V(h,"BUTTON",{class:!0}),O(n).forEach(g),o=G(h),s=V(h,"DIV",{class:!0});var P=O(s);a=V(P,"DIV",{class:!0});var i=O(a);c=V(i,"BUTTON",{class:!0});var d=O(c);f=Y(d,"Filters"),d.forEach(g),D=G(i),p=V(i,"INPUT",{class:!0,type:!0}),i.forEach(g),_=G(P),b&&b.l(P),l=G(P),I=V(P,"DIV",{class:!0});var u=O(I);for(let y=0;y<L.length;y+=1)L[y].l(u);u.forEach(g),P.forEach(g),this.h()},h(){E(e,"class","hidden"),E(n,"class","hidden"),E(c,"class","btn variant-ghost-surface rounded-tl-md rounded-none px-2"),E(p,"class","w-[100%] rounded-t-md variant-ghost-surface border-none rounded-tl-none"),E(p,"type","search"),E(a,"class","flex h-8"),E(I,"class","h-[84vh] overflow-y-scroll mr-[-9px]"),E(s,"class","overflow-x-hidden")},m(h,P){te(h,e,P),te(h,t,P),te(h,n,P),te(h,o,P),te(h,s,P),m(s,a),m(a,c),m(c,f),m(a,D),m(a,p),et(p,r[2]),m(s,_),b&&b.m(s,null),m(s,l),m(s,I);for(let i=0;i<L.length;i+=1)L[i]&&L[i].m(I,null);w=!0,S||(j=[x(e,"click",r[10]),tt(rt.call(null,e,"k")),x(n,"click",r[11]),tt(rt.call(null,n,"j")),x(p,"input",r[12])],S=!0)},p(h,[P]){if(P&4&&p.value!==h[2]&&et(p,h[2]),h[5].header?b?(b.p(h,P),P&32&&M(b,1)):(b=dt(h),b.c(),M(b,1),b.m(s,l)):b&&(be(),W(b,1,1,()=>{b=null}),ye()),P&267){v=h[0].filter(h[3]).toValueArray();let i;for(i=0;i<v.length;i+=1){const d=ct(h,v,i);L[i]?(L[i].p(d,P),M(L[i],1)):(L[i]=ht(d),L[i].c(),M(L[i],1),L[i].m(I,null))}for(be(),i=v.length;i<L.length;i+=1)C(i);ye()}},i(h){if(!w){M(b);for(let P=0;P<v.length;P+=1)M(L[P]);w=!0}},o(h){W(b),L=L.filter(Boolean);for(let P=0;P<L.length;P+=1)W(L[P]);w=!1},d(h){h&&g(e),h&&g(t),h&&g(n),h&&g(o),h&&g(s),b&&b.d(),Ot(L,h),S=!1,Re(j)}}}function ir(r,e,t){let n,o,{$$slots:s={},$$scope:a}=e;const c=Ue(s);let{data:f}=e,{field:D}=e,{selected:p}=e,_="";function l(j){let b=[...f.values()].indexOf(p),v=[...f.values()][b===0&&j===-1?f.size-1:(b+j)%f.size];nr("#"+v.hash)}const I=j=>{l(-1)},w=j=>{l(1)};function S(){_=this.value,t(2,_)}return r.$$set=j=>{"data"in j&&t(0,f=j.data),"field"in j&&t(6,D=j.field),"selected"in j&&t(1,p=j.selected),"$$scope"in j&&t(8,a=j.$$scope)},r.$$.update=()=>{r.$$.dirty&4&&t(7,n=_?new RegExp(_,"i"):null),r.$$.dirty&192&&t(3,o=j=>n?n.test(j[D]):!0)},[f,p,_,o,l,c,D,n,a,s,I,w,S]}class lr extends De{constructor(e){super(),we(this,e,ir,or,Ee,{data:0,field:6,selected:1})}}var Dt={exports:{}};(function(r){(function(e){var t=L(),n=C(),o=h(),s=P(),a={imagePlaceholder:void 0,cacheBust:!1},c={toSvg:f,toPng:p,toJpeg:_,toBlob:l,toPixelData:D,impl:{fontFaces:o,images:s,util:t,inliner:n,options:{}}};r.exports=c;function f(i,d){return d=d||{},I(d),Promise.resolve(i).then(function(y){return S(y,d.filter,!0)}).then(j).then(b).then(u).then(function(y){return v(y,d.width||t.width(i),d.height||t.height(i))});function u(y){return d.bgcolor&&(y.style.backgroundColor=d.bgcolor),d.width&&(y.style.width=d.width+"px"),d.height&&(y.style.height=d.height+"px"),d.style&&Object.keys(d.style).forEach(function(N){y.style[N]=d.style[N]}),y}}function D(i,d){return w(i,d||{}).then(function(u){return u.getContext("2d").getImageData(0,0,t.width(i),t.height(i)).data})}function p(i,d){return w(i,d||{}).then(function(u){return u.toDataURL()})}function _(i,d){return d=d||{},w(i,d).then(function(u){return u.toDataURL("image/jpeg",d.quality||1)})}function l(i,d){return w(i,d||{}).then(t.canvasToBlob)}function I(i){typeof i.imagePlaceholder>"u"?c.impl.options.imagePlaceholder=a.imagePlaceholder:c.impl.options.imagePlaceholder=i.imagePlaceholder,typeof i.cacheBust>"u"?c.impl.options.cacheBust=a.cacheBust:c.impl.options.cacheBust=i.cacheBust}function w(i,d){return f(i,d).then(t.makeImage).then(t.delay(100)).then(function(y){var N=u(i);return N.getContext("2d").drawImage(y,0,0),N});function u(y){var N=document.createElement("canvas");if(N.width=d.width||t.width(y),N.height=d.height||t.height(y),d.bgcolor){var F=N.getContext("2d");F.fillStyle=d.bgcolor,F.fillRect(0,0,N.width,N.height)}return N}}function S(i,d,u){if(!u&&d&&!d(i))return Promise.resolve();return Promise.resolve(i).then(y).then(function(R){return N(i,R,d)}).then(function(R){return F(i,R)});function y(R){return R instanceof HTMLCanvasElement?t.makeImage(R.toDataURL()):R.cloneNode(!1)}function N(R,B,re){var se=R.childNodes;if(se.length===0)return Promise.resolve(B);return T(B,t.asArray(se),re).then(function(){return B});function T(ie,ee,Q){var $=Promise.resolve();return ee.forEach(function(oe){$=$.then(function(){return S(oe,Q)}).then(function(X){X&&ie.appendChild(X)})}),$}}function F(R,B){if(!(B instanceof Element))return B;return Promise.resolve().then(re).then(se).then(T).then(ie).then(function(){return B});function re(){ee(window.getComputedStyle(R),B.style);function ee(Q,$){Q.cssText?$.cssText=Q.cssText:oe(Q,$);function oe(X,ae){t.asArray(X).forEach(function(k){ae.setProperty(k,X.getPropertyValue(k),X.getPropertyPriority(k))})}}}function se(){[":before",":after"].forEach(function(Q){ee(Q)});function ee(Q){var $=window.getComputedStyle(R,Q),oe=$.getPropertyValue("content");if(oe===""||oe==="none")return;var X=t.uid();B.className=B.className+" "+X;var ae=document.createElement("style");ae.appendChild(k(X,Q,$)),B.appendChild(ae);function k(z,J,U){var K="."+z+":"+J,le=U.cssText?ge(U):Pe(U);return document.createTextNode(K+"{"+le+"}");function ge(fe){var ue=fe.getPropertyValue("content");return fe.cssText+" content: "+ue+";"}function Pe(fe){return t.asArray(fe).map(ue).join("; ")+";";function ue(ne){return ne+": "+fe.getPropertyValue(ne)+(fe.getPropertyPriority(ne)?" !important":"")}}}}}function T(){R instanceof HTMLTextAreaElement&&(B.innerHTML=R.value),R instanceof HTMLInputElement&&B.setAttribute("value",R.value)}function ie(){B instanceof SVGElement&&(B.setAttribute("xmlns","http://www.w3.org/2000/svg"),B instanceof SVGRectElement&&["width","height"].forEach(function(ee){var Q=B.getAttribute(ee);Q&&B.style.setProperty(ee,Q)}))}}}function j(i){return o.resolveAll().then(function(d){var u=document.createElement("style");return i.appendChild(u),u.appendChild(document.createTextNode(d)),i})}function b(i){return s.inlineAll(i).then(function(){return i})}function v(i,d,u){return Promise.resolve(i).then(function(y){return y.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(y)}).then(t.escapeXhtml).then(function(y){return'<foreignObject x="0" y="0" width="100%" height="100%">'+y+"</foreignObject>"}).then(function(y){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+d+'" height="'+u+'">'+y+"</svg>"}).then(function(y){return"data:image/svg+xml;charset=utf-8,"+y})}function L(){return{escape:ie,parseExtension:d,mimeType:u,dataAsUrl:T,isDataUrl:y,canvasToBlob:F,resolveUrl:R,getAndEncode:se,uid:B(),delay:ee,asArray:Q,escapeXhtml:$,makeImage:re,width:oe,height:X};function i(){var k="application/font-woff",z="image/jpeg";return{woff:k,woff2:k,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:z,jpeg:z,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function d(k){var z=/\.([^\.\/]*?)$/g.exec(k);return z?z[1]:""}function u(k){var z=d(k).toLowerCase();return i()[z]||""}function y(k){return k.search(/^(data:)/)!==-1}function N(k){return new Promise(function(z){for(var J=window.atob(k.toDataURL().split(",")[1]),U=J.length,K=new Uint8Array(U),le=0;le<U;le++)K[le]=J.charCodeAt(le);z(new Blob([K],{type:"image/png"}))})}function F(k){return k.toBlob?new Promise(function(z){k.toBlob(z)}):N(k)}function R(k,z){var J=document.implementation.createHTMLDocument(),U=J.createElement("base");J.head.appendChild(U);var K=J.createElement("a");return J.body.appendChild(K),U.href=z,K.href=k,K.href}function B(){var k=0;return function(){return"u"+z()+k++;function z(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function re(k){return new Promise(function(z,J){var U=new Image;U.onload=function(){z(U)},U.onerror=J,U.src=k})}function se(k){var z=3e4;return c.impl.options.cacheBust&&(k+=(/\?/.test(k)?"&":"?")+new Date().getTime()),new Promise(function(J){var U=new XMLHttpRequest;U.onreadystatechange=ge,U.ontimeout=Pe,U.responseType="blob",U.timeout=z,U.open("GET",k,!0),U.send();var K;if(c.impl.options.imagePlaceholder){var le=c.impl.options.imagePlaceholder.split(/,/);le&&le[1]&&(K=le[1])}function ge(){if(U.readyState===4){if(U.status!==200){K?J(K):fe("cannot fetch resource: "+k+", status: "+U.status);return}var ue=new FileReader;ue.onloadend=function(){var ne=ue.result.split(/,/)[1];J(ne)},ue.readAsDataURL(U.response)}}function Pe(){K?J(K):fe("timeout of "+z+"ms occured while fetching resource: "+k)}function fe(ue){console.error(ue),J("")}})}function T(k,z){return"data:"+z+";base64,"+k}function ie(k){return k.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function ee(k){return function(z){return new Promise(function(J){setTimeout(function(){J(z)},k)})}}function Q(k){for(var z=[],J=k.length,U=0;U<J;U++)z.push(k[U]);return z}function $(k){return k.replace(/#/g,"%23").replace(/\n/g,"%0A")}function oe(k){var z=ae(k,"border-left-width"),J=ae(k,"border-right-width");return k.scrollWidth+z+J}function X(k){var z=ae(k,"border-top-width"),J=ae(k,"border-bottom-width");return k.scrollHeight+z+J}function ae(k,z){var J=window.getComputedStyle(k).getPropertyValue(z);return parseFloat(J.replace("px",""))}}function C(){var i=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:N,shouldProcess:d,impl:{readUrls:u,inline:y}};function d(F){return F.search(i)!==-1}function u(F){for(var R=[],B;(B=i.exec(F))!==null;)R.push(B[1]);return R.filter(function(re){return!t.isDataUrl(re)})}function y(F,R,B,re){return Promise.resolve(R).then(function(T){return B?t.resolveUrl(T,B):T}).then(re||t.getAndEncode).then(function(T){return t.dataAsUrl(T,t.mimeType(R))}).then(function(T){return F.replace(se(R),"$1"+T+"$3")});function se(T){return new RegExp(`(url\\(['"]?)(`+t.escape(T)+`)(['"]?\\))`,"g")}}function N(F,R,B){if(re())return Promise.resolve(F);return Promise.resolve(F).then(u).then(function(se){var T=Promise.resolve(F);return se.forEach(function(ie){T=T.then(function(ee){return y(ee,ie,R,B)})}),T});function re(){return!d(F)}}}function h(){return{resolveAll:i,impl:{readAll:d}};function i(){return d().then(function(u){return Promise.all(u.map(function(y){return y.resolve()}))}).then(function(u){return u.join(`
`)})}function d(){return Promise.resolve(t.asArray(document.styleSheets)).then(y).then(u).then(function(F){return F.map(N)});function u(F){return F.filter(function(R){return R.type===CSSRule.FONT_FACE_RULE}).filter(function(R){return n.shouldProcess(R.style.getPropertyValue("src"))})}function y(F){var R=[];return F.forEach(function(B){try{t.asArray(B.cssRules||[]).forEach(R.push.bind(R))}catch(re){console.log("Error while reading CSS rules from "+B.href,re.toString())}}),R}function N(F){return{resolve:function(){var B=(F.parentStyleSheet||{}).href;return n.inlineAll(F.cssText,B)},src:function(){return F.style.getPropertyValue("src")}}}}}function P(){return{inlineAll:d,impl:{newImage:i}};function i(u){return{inline:y};function y(N){return t.isDataUrl(u.src)?Promise.resolve():Promise.resolve(u.src).then(N||t.getAndEncode).then(function(F){return t.dataAsUrl(F,t.mimeType(u.src))}).then(function(F){return new Promise(function(R,B){u.onload=R,u.onerror=B,u.src=F})})}}function d(u){if(!(u instanceof Element))return Promise.resolve(u);return y(u).then(function(){return u instanceof HTMLImageElement?i(u).inline():Promise.all(t.asArray(u.childNodes).map(function(N){return d(N)}))});function y(N){var F=N.style.getPropertyValue("background");return F?n.inlineAll(F).then(function(R){N.style.setProperty("background",R,N.style.getPropertyPriority("background"))}).then(function(){return N}):Promise.resolve(N)}}}})()})(Dt);var cr=Dt.exports;const Ce=At(cr);function ur(r){let e,t,n,o,s,a,c,f,D,p,_,l,I,w,S,j,b,v,L,C,h,P,i,d,u,y,N,F,R,B,re,se,T,ie,ee,Q,$,oe,X,ae,k,z,J;return X=new Pt({props:{entries:r[0]}}),{c(){e=A("div"),t=A("div"),n=A("div"),o=A("button"),s=Z("Save"),a=H(),c=A("button"),f=Z("Copy"),D=H(),p=A("div"),_=A("div"),l=A("div"),I=Z("Aspect Ratio:"),w=H(),S=A("button"),j=Z("None"),b=H(),v=A("button"),L=Z("1:1"),C=H(),h=A("button"),P=Z("2:1"),i=H(),d=A("button"),u=Z("3:4"),y=H(),N=A("button"),F=Z("4:7"),R=H(),B=A("button"),re=Z("7:8"),se=H(),T=A("button"),ie=Z("16:9"),ee=H(),Q=A("div"),$=A("div"),oe=A("div"),de(X.$$.fragment),this.h()},l(U){e=V(U,"DIV",{class:!0});var K=O(e);t=V(K,"DIV",{class:!0});var le=O(t);n=V(le,"DIV",{class:!0});var ge=O(n);o=V(ge,"BUTTON",{});var Pe=O(o);s=Y(Pe,"Save"),Pe.forEach(g),a=G(ge),c=V(ge,"BUTTON",{});var fe=O(c);f=Y(fe,"Copy"),fe.forEach(g),ge.forEach(g),le.forEach(g),D=G(K),p=V(K,"DIV",{class:!0});var ue=O(p);_=V(ue,"DIV",{class:!0});var ne=O(_);l=V(ne,"DIV",{class:!0});var qe=O(l);I=Y(qe,"Aspect Ratio:"),qe.forEach(g),w=G(ne),S=V(ne,"BUTTON",{});var Me=O(S);j=Y(Me,"None"),Me.forEach(g),b=G(ne),v=V(ne,"BUTTON",{});var He=O(v);L=Y(He,"1:1"),He.forEach(g),C=G(ne),h=V(ne,"BUTTON",{});var Ge=O(h);P=Y(Ge,"2:1"),Ge.forEach(g),i=G(ne),d=V(ne,"BUTTON",{});var Xe=O(d);u=Y(Xe,"3:4"),Xe.forEach(g),y=G(ne),N=V(ne,"BUTTON",{});var Ke=O(N);F=Y(Ke,"4:7"),Ke.forEach(g),R=G(ne),B=V(ne,"BUTTON",{});var We=O(B);re=Y(We,"7:8"),We.forEach(g),se=G(ne),T=V(ne,"BUTTON",{});var Je=O(T);ie=Y(Je,"16:9"),Je.forEach(g),ne.forEach(g),ee=G(ue),Q=V(ue,"DIV",{class:!0});var Qe=O(Q);$=V(Qe,"DIV",{class:!0});var Ze=O($);oe=V(Ze,"DIV",{class:!0});var Ye=O(oe);he(X.$$.fragment,Ye),Ye.forEach(g),Ze.forEach(g),Qe.forEach(g),ue.forEach(g),K.forEach(g),this.h()},h(){E(n,"class","btn-group variant-ghost-surface m-auto"),E(t,"class","flex"),E(l,"class","p-2 whitespace-nowrap text-ellipsis"),ce(S,"variant-ghost-secondary",r[1]===""),ce(v,"variant-ghost-secondary",r[1]==="aspect-square"),ce(h,"variant-ghost-secondary",r[1]==="aspect-[2/1]"),ce(d,"variant-ghost-secondary",r[1]==="aspect-[3/4]"),ce(N,"variant-ghost-secondary",r[1]==="aspect-[4/7]"),ce(B,"variant-ghost-secondary",r[1]==="aspect-[7/8]"),ce(T,"variant-ghost-secondary",r[1]==="aspect-video"),E(_,"class","btn-group-vertical variant-ghost-surface"),E(oe,"class","m-1.5"),E($,"class",ae="wrp-stats stats !overflow-hidden resize-x w-96 "+r[1]+" max-h-screen max-w-screen"),E(Q,"class","pf2ools"),E(p,"class","flex"),E(e,"class","relative scale-75 sm:scale-100")},m(U,K){te(U,e,K),m(e,t),m(t,n),m(n,o),m(o,s),m(n,a),m(n,c),m(c,f),m(e,D),m(e,p),m(p,_),m(_,l),m(l,I),m(_,w),m(_,S),m(S,j),m(_,b),m(_,v),m(v,L),m(_,C),m(_,h),m(h,P),m(_,i),m(_,d),m(d,u),m(_,y),m(_,N),m(N,F),m(_,R),m(_,B),m(B,re),m(_,se),m(_,T),m(T,ie),m(p,ee),m(p,Q),m(Q,$),m($,oe),me(X,oe,null),k=!0,z||(J=[x(o,"click",r[3]),x(c,"click",r[2]),x(S,"click",r[5]),x(v,"click",r[6]),x(h,"click",r[7]),x(d,"click",r[8]),x(N,"click",r[9]),x(B,"click",r[10]),x(T,"click",r[11])],z=!0)},p(U,[K]){(!k||K&2)&&ce(S,"variant-ghost-secondary",U[1]===""),(!k||K&2)&&ce(v,"variant-ghost-secondary",U[1]==="aspect-square"),(!k||K&2)&&ce(h,"variant-ghost-secondary",U[1]==="aspect-[2/1]"),(!k||K&2)&&ce(d,"variant-ghost-secondary",U[1]==="aspect-[3/4]"),(!k||K&2)&&ce(N,"variant-ghost-secondary",U[1]==="aspect-[4/7]"),(!k||K&2)&&ce(B,"variant-ghost-secondary",U[1]==="aspect-[7/8]"),(!k||K&2)&&ce(T,"variant-ghost-secondary",U[1]==="aspect-video");const le={};K&1&&(le.entries=U[0]),X.$set(le),(!k||K&2&&ae!==(ae="wrp-stats stats !overflow-hidden resize-x w-96 "+U[1]+" max-h-screen max-w-screen"))&&E($,"class",ae)},i(U){k||(M(X.$$.fragment,U),k=!0)},o(U){W(X.$$.fragment,U),k=!1},d(U){U&&g(e),_e(X),z=!1,Re(J)}}}function mt(r){let e=2;return{width:r.clientWidth*e,height:r.clientHeight*e,style:{transform:`scale(${e})`,transformOrigin:"top left",resize:"none"}}}function fr(r,e,t){let n,{entries:o}=e,s=new It;function a(){const j=document.querySelector(".wrp-stats");Ce.toBlob(j,mt).then(b=>{navigator.clipboard.write([new ClipboardItem({"image/png":b})]),s.success("Copied to Clipboard")}).catch(b=>{console.error("Failed to take screenshot",b)})}function c(){const j=document.querySelector(".wrp-stats");Ce.toPng(j,mt).then(b=>{const v=document.createElement("a");v.download="screenshot.png",v.href=b,v.click()}).catch(b=>{console.error("Failed to take screenshot",b)})}let f=Bt("");Tt(r,f,j=>t(1,n=j));const D=()=>pe(f,n="",n),p=()=>pe(f,n="aspect-square",n),_=()=>pe(f,n="aspect-[2/1]",n),l=()=>pe(f,n="aspect-[3/4]",n),I=()=>pe(f,n="aspect-[4/7]",n),w=()=>pe(f,n="aspect-[7/8]",n),S=()=>pe(f,n="aspect-video",n);return r.$$set=j=>{"entries"in j&&t(0,o=j.entries)},[o,n,a,c,f,D,p,_,l,I,w,S]}class dr extends De{constructor(e){super(),we(this,e,fr,ur,Ee,{entries:0})}}function hr(r){let e;return{c(){e=Z("Stats")},l(t){e=Y(t,"Stats")},m(t,n){te(t,e,n)},d(t){t&&g(e)}}}function _t(r){let e,t,n;function o(a){r[5](a)}let s={value:"fluff",padding:"px-2 select-none",$$slots:{default:[mr]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.group=r[1]),e=new ze({props:s}),Be.push(()=>Ne(e,"group",o)),{c(){de(e.$$.fragment)},l(a){he(e.$$.fragment,a)},m(a,c){me(e,a,c),n=!0},p(a,c){const f={};c&512&&(f.$$scope={dirty:c,ctx:a}),!t&&c&2&&(t=!0,f.group=a[1],Fe(()=>t=!1)),e.$set(f)},i(a){n||(M(e.$$.fragment,a),n=!0)},o(a){W(e.$$.fragment,a),n=!1},d(a){_e(e,a)}}}function mr(r){let e;return{c(){e=Z("Fluff")},l(t){e=Y(t,"Fluff")},m(t,n){te(t,e,n)},d(t){t&&g(e)}}}function vt(r){let e,t,n;function o(a){r[6](a)}let s={value:"images",padding:"px-2 select-none",$$slots:{default:[_r]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.group=r[1]),e=new ze({props:s}),Be.push(()=>Ne(e,"group",o)),{c(){de(e.$$.fragment)},l(a){he(e.$$.fragment,a)},m(a,c){me(e,a,c),n=!0},p(a,c){const f={};c&512&&(f.$$scope={dirty:c,ctx:a}),!t&&c&2&&(t=!0,f.group=a[1],Fe(()=>t=!1)),e.$set(f)},i(a){n||(M(e.$$.fragment,a),n=!0)},o(a){W(e.$$.fragment,a),n=!1},d(a){_e(e,a)}}}function _r(r){let e;return{c(){e=Z("Images")},l(t){e=Y(t,"Images")},m(t,n){te(t,e,n)},d(t){t&&g(e)}}}function vr(r){var L,C,h,P;let e,t,n,o,s,a,c,f,D,p,_,l,I,w;function S(i){r[4](i)}let j={value:"data",padding:"px-2 select-none",$$slots:{default:[hr]},$$scope:{ctx:r}};r[1]!==void 0&&(j.group=r[1]),e=new ze({props:j}),Be.push(()=>Ne(e,"group",S));let b=((C=(L=r[0])==null?void 0:L.fluff)==null?void 0:C.length)&&_t(r),v=((P=(h=r[0])==null?void 0:h.images)==null?void 0:P.length)&&vt(r);return f=new nt({props:{icon:Ut}}),_=new nt({props:{icon:Nt}}),{c(){de(e.$$.fragment),n=H(),b&&b.c(),o=H(),v&&v.c(),s=H(),a=A("div"),c=A("button"),de(f.$$.fragment),D=H(),p=A("button"),de(_.$$.fragment),this.h()},l(i){he(e.$$.fragment,i),n=G(i),b&&b.l(i),o=G(i),v&&v.l(i),s=G(i),a=V(i,"DIV",{class:!0});var d=O(a);c=V(d,"BUTTON",{id:!0,class:!0,title:!0});var u=O(c);he(f.$$.fragment,u),u.forEach(g),D=G(d),p=V(d,"BUTTON",{id:!0,class:!0,title:!0});var y=O(p);he(_.$$.fragment,y),y.forEach(g),d.forEach(g),this.h()},h(){E(c,"id","screenshot"),E(c,"class","btn btn-sm p-1 variant-ghost-surface rounded-b-none"),E(c,"title","Screenshot the Current Tab (+ Ctrl to Copy to Clipboard, + Shift to Download)"),E(p,"id","code"),E(p,"class","btn btn-sm m-0 p-1 variant-ghost-surface rounded-b-none"),E(p,"title","Show JSON Data"),E(a,"class","ml-auto")},m(i,d){me(e,i,d),te(i,n,d),b&&b.m(i,d),te(i,o,d),v&&v.m(i,d),te(i,s,d),te(i,a,d),m(a,c),me(f,c,null),m(a,D),m(a,p),me(_,p,null),l=!0,I||(w=[x(c,"click",r[7]),x(p,"click",r[8])],I=!0)},p(i,d){var y,N,F,R;const u={};d&512&&(u.$$scope={dirty:d,ctx:i}),!t&&d&2&&(t=!0,u.group=i[1],Fe(()=>t=!1)),e.$set(u),(N=(y=i[0])==null?void 0:y.fluff)!=null&&N.length?b?(b.p(i,d),d&1&&M(b,1)):(b=_t(i),b.c(),M(b,1),b.m(o.parentNode,o)):b&&(be(),W(b,1,1,()=>{b=null}),ye()),(R=(F=i[0])==null?void 0:F.images)!=null&&R.length?v?(v.p(i,d),d&1&&M(v,1)):(v=vt(i),v.c(),M(v,1),v.m(s.parentNode,s)):v&&(be(),W(v,1,1,()=>{v=null}),ye())},i(i){l||(M(e.$$.fragment,i),M(b),M(v),M(f.$$.fragment,i),M(_.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),W(b),W(v),W(f.$$.fragment,i),W(_.$$.fragment,i),l=!1},d(i){_e(e,i),i&&g(n),b&&b.d(i),i&&g(o),v&&v.d(i),i&&g(s),i&&g(a),_e(f),_e(_),I=!1,Re(w)}}}function gt(r){let e,t;return e=new Pt({props:{entries:r[1]==="data"?r[0]:r[0][r[1]]}}),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,o){me(e,n,o),t=!0},p(n,o){const s={};o&3&&(s.entries=n[1]==="data"?n[0]:n[0][n[1]]),e.$set(s)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function gr(r){let e,t,n=r[0],o,s=gt(r);return{c(){e=A("div"),t=A("div"),s.c(),this.h()},l(a){e=V(a,"DIV",{class:!0});var c=O(e);t=V(c,"DIV",{class:!0});var f=O(t);s.l(f),f.forEach(g),c.forEach(g),this.h()},h(){E(t,"class","m-1.5"),E(e,"class","wrp-stats stats")},m(a,c){te(a,e,c),m(e,t),s.m(t,null),o=!0},p(a,c){c&1&&Ee(n,n=a[0])?(be(),W(s,1,1,kt),ye(),s=gt(a),s.c(),M(s,1),s.m(t,null)):s.p(a,c)},i(a){o||(M(s),o=!0)},o(a){W(s),o=!1},d(a){a&&g(e),s.d(a)}}}function pr(r){let e,t;return e=new Jt({props:{regionPanel:"!mt-0 pf2ools",active:"border-primary-500 border-b-4 mt-[-4px]",$$slots:{panel:[gr],default:[vr]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,o){me(e,n,o),t=!0},p(n,[o]){const s={};o&515&&(s.$$scope={dirty:o,ctx:n}),e.$set(s)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function br(r,e,t){let n,{selected:o}=e,s=new It,a=zt("data");Tt(r,a,l=>t(1,n=l));function c(l){n=l,a.set(n)}function f(l){n=l,a.set(n)}function D(l){n=l,a.set(n)}const p=l=>{const I=document.querySelector(".wrp-stats");l.ctrlKey||l.shiftKey?(l.ctrlKey?Ce.toBlob(I):Ce.toPng(I)).then(w=>{if(l.shiftKey){const S=document.createElement("a");S.download="screenshot.png",S.href=w,S.click()}else l.ctrlKey&&(navigator.clipboard.write([new ClipboardItem({"image/png":w})]),s.success("Copied to Clipboard"))}).catch(w=>{console.error("Failed to take screenshot",w)}):Ft.trigger({type:"component",component:{ref:dr,props:{entries:n==="data"?o:o[n]}}})},_=l=>{console.log(o),s.success("Pasted to Console")};return r.$$set=l=>{"selected"in l&&t(0,o=l.selected)},[o,n,s,a,c,f,D,p,_]}class yr extends De{constructor(e){super(),we(this,e,br,pr,Ee,{selected:0})}}const{window:Er}=St;function Pr(r){let e,t,n,o,s,a,c,f,D,p,_,l,I,w,S,j,b,v;return{c(){e=A("div"),t=A("div"),n=Z("Name"),o=H(),s=A("div"),a=Z("HP"),c=H(),f=A("div"),D=Z("Boosts"),p=H(),_=A("div"),l=Z("Flaws"),I=H(),w=A("div"),S=Z("Size"),j=H(),b=A("div"),v=Z("Source"),this.h()},l(L){e=V(L,"DIV",{class:!0});var C=O(e);t=V(C,"DIV",{id:!0});var h=O(t);n=Y(h,"Name"),h.forEach(g),o=G(C),s=V(C,"DIV",{id:!0});var P=O(s);a=Y(P,"HP"),P.forEach(g),c=G(C),f=V(C,"DIV",{id:!0});var i=O(f);D=Y(i,"Boosts"),i.forEach(g),p=G(C),_=V(C,"DIV",{id:!0});var d=O(_);l=Y(d,"Flaws"),d.forEach(g),I=G(C),w=V(C,"DIV",{id:!0});var u=O(w);S=Y(u,"Size"),u.forEach(g),j=G(C),b=V(C,"DIV",{id:!0});var y=O(b);v=Y(y,"Source"),y.forEach(g),C.forEach(g),this.h()},h(){E(t,"id","name"),E(s,"id","hp"),E(f,"id","boosts"),E(_,"id","flaws"),E(w,"id","size"),E(b,"id","source"),E(e,"class","pl-0.5 grid "+wt)},m(L,C){te(L,e,C),m(e,t),m(t,n),m(e,o),m(e,s),m(s,a),m(e,c),m(e,f),m(f,D),m(e,p),m(e,_),m(_,l),m(e,I),m(e,w),m(w,S),m(e,j),m(e,b),m(b,v)},p:kt,d(L){L&&g(e)}}}function Ir(r){let e,t,n=r[4].name+"",o,s,a,c=r[4].hp+"",f,D,p,_=(r[4].boosts?r[4].boosts.map(pt).joinConjunct(", "," and "):"—")+"",l,I,w,S=(r[4].flaws?r[4].flaws.map(bt).joinConjunct(", "," and "):"—")+"",j,b,v,L=r[4].size.map(yt).join("/")+"",C,h,P,i=r[4].source+"",d;return{c(){e=A("div"),t=A("div"),o=Z(n),s=H(),a=A("div"),f=Z(c),D=H(),p=A("div"),l=Z(_),I=H(),w=A("div"),j=Z(S),b=H(),v=A("div"),C=Z(L),h=H(),P=A("div"),d=Z(i),this.h()},l(u){e=V(u,"DIV",{class:!0});var y=O(e);t=V(y,"DIV",{id:!0});var N=O(t);o=Y(N,n),N.forEach(g),s=G(y),a=V(y,"DIV",{id:!0});var F=O(a);f=Y(F,c),F.forEach(g),D=G(y),p=V(y,"DIV",{id:!0});var R=O(p);l=Y(R,_),R.forEach(g),I=G(y),w=V(y,"DIV",{id:!0});var B=O(w);j=Y(B,S),B.forEach(g),b=G(y),v=V(y,"DIV",{id:!0});var re=O(v);C=Y(re,L),re.forEach(g),h=G(y),P=V(y,"DIV",{id:!0});var se=O(P);d=Y(se,i),se.forEach(g),y.forEach(g),this.h()},h(){E(t,"id","name"),E(a,"id","hp"),E(p,"id","boosts"),E(w,"id","flaws"),E(v,"id","size"),E(P,"id","source"),E(e,"class","pl-0.5 grid "+wt)},m(u,y){te(u,e,y),m(e,t),m(t,o),m(e,s),m(e,a),m(a,f),m(e,D),m(e,p),m(p,l),m(e,I),m(e,w),m(w,j),m(e,b),m(e,v),m(v,C),m(e,h),m(e,P),m(P,d)},p(u,y){y&16&&n!==(n=u[4].name+"")&&ke(o,n),y&16&&c!==(c=u[4].hp+"")&&ke(f,c),y&16&&_!==(_=(u[4].boosts?u[4].boosts.map(pt).joinConjunct(", "," and "):"—")+"")&&ke(l,_),y&16&&S!==(S=(u[4].flaws?u[4].flaws.map(bt).joinConjunct(", "," and "):"—")+"")&&ke(j,S),y&16&&L!==(L=u[4].size.map(yt).join("/")+"")&&ke(C,L),y&16&&i!==(i=u[4].source+"")&&ke(d,i)},d(u){u&&g(e)}}}function Tr(r){let e,t,n,o,s,a,c,f,D,p,_;return n=new lr({props:{data:r[0].ancestries,field:"name",selected:r[1],$$slots:{list:[Ir,({item:l})=>({4:l}),({item:l})=>l?16:0],header:[Pr,({item:l})=>({4:l}),({item:l})=>l?16:0]},$$scope:{ctx:r}}}),a=new yr({props:{selected:r[1]}}),document.title=f=(r[1]?r[1].name:"Ancestries")+" - PF2ools",{c(){e=A("div"),t=A("div"),de(n.$$.fragment),o=H(),s=A("div"),de(a.$$.fragment),c=H(),this.h()},l(l){e=V(l,"DIV",{class:!0});var I=O(e);t=V(I,"DIV",{class:!0});var w=O(t);he(n.$$.fragment,w),w.forEach(g),o=G(I),s=V(I,"DIV",{class:!0});var S=O(s);he(a.$$.fragment,S),S.forEach(g),I.forEach(g),c=G(l),Lt("svelte-1q5bze3",document.head).forEach(g),this.h()},h(){E(t,"class","view-col lg:w-3/5 lg:h-full h-[30vh]"),E(s,"class","view-col max-h-[90vh] lg:w-2/5"),E(e,"class","container lg:flex")},m(l,I){te(l,e,I),m(e,t),me(n,t,null),m(e,o),m(e,s),me(a,s,null),te(l,c,I),D=!0,p||(_=x(Er,"hashchange",r[3]),p=!0)},p(l,[I]){const w={};I&1&&(w.data=l[0].ancestries),I&2&&(w.selected=l[1]),I&48&&(w.$$scope={dirty:I,ctx:l}),n.$set(w);const S={};I&2&&(S.selected=l[1]),a.$set(S),(!D||I&2)&&f!==(f=(l[1]?l[1].name:"Ancestries")+" - PF2ools")&&(document.title=f)},i(l){D||(M(n.$$.fragment,l),M(a.$$.fragment,l),D=!0)},o(l){W(n.$$.fragment,l),W(a.$$.fragment,l),D=!1},d(l){l&&g(e),_e(n),_e(a),l&&g(c),p=!1,_()}}}const wt="grid-cols-[minmax(2rem,_12rem)_2rem_minmax(6rem,_20rem)_minmax(4rem,_5rem)_3rem_4rem] gap-2",pt=r=>r.toTitleCase(),bt=r=>r.toTitleCase(),yt=r=>r[0].toTitleCase();function kr(r,e,t){let{data:n}=e;const o=n.ancestries;let s;qt.subscribe(c=>{let f=c.url.hash.replaceAll(/\#|\?.+/g,"");f.includes("_")||(f=f+"_crb"),f&&o.has(f)?t(1,s=o.get(f)):t(1,s=o.entries().next().value[1])}),Rt(()=>{window.ancestries=n.ancestries});const a=c=>{let f=c.newURL.remove(/\?.+/g).split("#")[1];f.includes("_")||(f=f+"_crb"),t(1,s=o.has(f)?o.get(f):o.entries().next().value[1])};return r.$$set=c=>{"data"in c&&t(0,n=c.data)},[n,s,o,a]}class Cr extends De{constructor(e){super(),we(this,e,kr,Tr,Ee,{data:0})}}export{Cr as component,Sr as universal};
