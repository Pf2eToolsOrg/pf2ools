import{_ as q}from"../chunks/preload-helper.41c905a7.js";import{D as vt,R as bt,T as yt}from"../chunks/Renderer.22235f50.js";import{S as Ie,i as ke,s as Ae,C as De,k as V,a as X,l as O,m as j,h as b,c as K,n as E,b as $,O as g,P as Z,D as we,E as Ve,F as Oe,g as M,v as Pe,d as Q,f as Te,Q as Le,R as Ue,G as ye,H as je,I as Se,Z as pe,aj as It,a3 as xe,a0 as kt,ak as $e,U as Ee,w as Be,q as te,r as re,a4 as et,$ as tt,ai as At,ah as ce,y as de,z as he,A as me,B as _e,_ as Et,a9 as ve,al as Ne,am as Fe,a8 as Dt,X as wt,u as Re}from"../chunks/index.db2a9e3f.js";import{h as rt}from"../chunks/index.e248da5c.js";import{j as Vt}from"../chunks/singletons.a2fd7c92.js";import{l as Ot,F as nt,i as jt,j as Lt,m as Rt}from"../chunks/MiscUtils.679e4c0c.js";import{w as St}from"../chunks/index.16e709dc.js";import{p as Ct}from"../chunks/stores.83ad196b.js";const Bt=r=>({}),at=r=>({});function st(r){let e,t,n;const o=r[17].panel,s=De(o,r,r[16],at);return{c(){e=V("div"),s&&s.c(),this.h()},l(a){e=O(a,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var c=j(e);s&&s.l(c),c.forEach(b),this.h()},h(){E(e,"class",t="tab-panel "+r[2]),E(e,"role","tabpanel"),E(e,"aria-labelledby",r[1]),E(e,"tabindex","0")},m(a,c){$(a,e,c),s&&s.m(e,null),n=!0},p(a,c){s&&s.p&&(!n||c&65536)&&we(s,o,a,a[16],n?Oe(o,a[16],c,Bt):Ve(a[16]),at),(!n||c&4&&t!==(t="tab-panel "+a[2]))&&E(e,"class",t),(!n||c&2)&&E(e,"aria-labelledby",a[1])},i(a){n||(M(s,a),n=!0)},o(a){Q(s,a),n=!1},d(a){a&&b(e),s&&s.d(a)}}}function Ut(r){let e,t,n,o,s,a,c,u;const A=r[17].default,v=De(A,r,r[16],null);let _=r[5].panel&&st(r);return{c(){e=V("div"),t=V("div"),v&&v.c(),o=X(),_&&_.c(),this.h()},l(i){e=O(i,"DIV",{class:!0,"data-testid":!0});var y=j(e);t=O(y,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var I=j(t);v&&v.l(I),I.forEach(b),o=K(y),_&&_.l(y),y.forEach(b),this.h()},h(){E(t,"class",n="tab-list "+r[3]),E(t,"role","tablist"),E(t,"aria-labelledby",r[0]),E(e,"class",s="tab-group "+r[4]),E(e,"data-testid","tab-group")},m(i,y){$(i,e,y),g(e,t),v&&v.m(t,null),g(e,o),_&&_.m(e,null),a=!0,c||(u=[Z(e,"click",r[18]),Z(e,"keypress",r[19]),Z(e,"keydown",r[20]),Z(e,"keyup",r[21])],c=!0)},p(i,[y]){v&&v.p&&(!a||y&65536)&&we(v,A,i,i[16],a?Oe(A,i[16],y,null):Ve(i[16]),null),(!a||y&8&&n!==(n="tab-list "+i[3]))&&E(t,"class",n),(!a||y&1)&&E(t,"aria-labelledby",i[0]),i[5].panel?_?(_.p(i,y),y&32&&M(_,1)):(_=st(i),_.c(),M(_,1),_.m(e,null)):_&&(Pe(),Q(_,1,1,()=>{_=null}),Te()),(!a||y&16&&s!==(s="tab-group "+i[4]))&&E(e,"class",s)},i(i){a||(M(v,i),M(_),a=!0)},o(i){Q(v,i),Q(_),a=!1},d(i){i&&b(e),v&&v.d(i),_&&_.d(),c=!1,Le(u)}}}const Nt="space-y-4",Ft="flex overflow-x-auto hide-scrollbar",qt="";function zt(r,e,t){let n,o,s,{$$slots:a={},$$scope:c}=e;const u=Ue(a);let{justify:A="justify-start"}=e,{border:v="border-b border-surface-400-500-token"}=e,{active:_="border-b-2 border-surface-900-50-token"}=e,{hover:i="hover:variant-soft"}=e,{flex:y="flex-none"}=e,{padding:I="px-4 py-2"}=e,{rounded:L="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:D="space-y-1"}=e,{regionList:p=""}=e,{regionPanel:m=""}=e,{labelledby:C=""}=e,{panel:z=""}=e;ye("active",_),ye("hover",i),ye("flex",y),ye("padding",I),ye("rounded",L),ye("spacing",D);function d(f){pe.call(this,r,f)}function T(f){pe.call(this,r,f)}function l(f){pe.call(this,r,f)}function h(f){pe.call(this,r,f)}return r.$$set=f=>{t(22,e=je(je({},e),Se(f))),"justify"in f&&t(6,A=f.justify),"border"in f&&t(7,v=f.border),"active"in f&&t(8,_=f.active),"hover"in f&&t(9,i=f.hover),"flex"in f&&t(10,y=f.flex),"padding"in f&&t(11,I=f.padding),"rounded"in f&&t(12,L=f.rounded),"spacing"in f&&t(13,D=f.spacing),"regionList"in f&&t(14,p=f.regionList),"regionPanel"in f&&t(15,m=f.regionPanel),"labelledby"in f&&t(0,C=f.labelledby),"panel"in f&&t(1,z=f.panel),"$$scope"in f&&t(16,c=f.$$scope)},r.$$.update=()=>{t(4,n=`${Nt} ${e.class??""}`),r.$$.dirty&16576&&t(3,o=`${Ft} ${A} ${v} ${p}`),r.$$.dirty&32768&&t(2,s=`${qt} ${m}`)},e=Se(e),[C,z,s,o,n,u,A,v,_,i,y,I,L,D,p,m,c,a,d,T,l,h]}class Mt extends Ie{constructor(e){super(),ke(this,e,zt,Ut,Ae,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const Ht=r=>({}),ot=r=>({});function it(r){let e,t;const n=r[19].lead,o=De(n,r,r[18],ot);return{c(){e=V("div"),o&&o.c(),this.h()},l(s){e=O(s,"DIV",{class:!0});var a=j(e);o&&o.l(a),a.forEach(b),this.h()},h(){E(e,"class","tab-lead")},m(s,a){$(s,e,a),o&&o.m(e,null),t=!0},p(s,a){o&&o.p&&(!t||a&262144)&&we(o,n,s,s[18],t?Oe(n,s[18],a,Ht):Ve(s[18]),ot)},i(s){t||(M(o,s),t=!0)},o(s){Q(o,s),t=!1},d(s){s&&b(e),o&&o.d(s)}}}function Gt(r){let e,t,n,o,s,a,c,u,A,v,_,i,y,I,L,D=[{type:"radio"},{name:r[1]},{__value:r[2]},r[9](),{tabindex:"-1"}],p={};for(let d=0;d<D.length;d+=1)p=je(p,D[d]);let m=r[10].lead&&it(r);const C=r[19].default,z=De(C,r,r[18],null);return y=It(r[27][0]),{c(){e=V("label"),t=V("div"),n=V("div"),o=V("input"),s=X(),a=V("div"),m&&m.c(),c=X(),u=V("div"),z&&z.c(),this.h()},l(d){e=O(d,"LABEL",{});var T=j(e);t=O(T,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var l=j(t);n=O(l,"DIV",{class:!0});var h=j(n);o=O(h,"INPUT",{type:!0,name:!0,tabindex:!0}),h.forEach(b),s=K(l),a=O(l,"DIV",{class:!0});var f=j(a);m&&m.l(f),c=K(f),u=O(f,"DIV",{class:!0});var w=j(u);z&&z.l(w),w.forEach(b),f.forEach(b),l.forEach(b),T.forEach(b),this.h()},h(){xe(o,p),E(n,"class","h-0 w-0 overflow-hidden"),E(u,"class","tab-label"),E(a,"class",A="tab-interface "+r[6]),E(t,"class",v="tab "+r[7]),E(t,"data-testid","tab"),E(t,"role","tab"),E(t,"aria-controls",r[3]),E(t,"aria-selected",r[4]),E(t,"tabindex",_=r[4]?0:-1),y.p(o)},m(d,T){$(d,e,T),g(e,t),g(t,n),g(n,o),o.autofocus&&o.focus(),r[25](o),o.checked=o.__value===r[0],g(t,s),g(t,a),m&&m.m(a,null),g(a,c),g(a,u),z&&z.m(u,null),i=!0,I||(L=[Z(o,"change",r[26]),Z(o,"click",r[23]),Z(o,"change",r[24]),Z(t,"keydown",r[8]),Z(t,"keydown",r[20]),Z(t,"keyup",r[21]),Z(t,"keypress",r[22])],I=!0)},p(d,[T]){xe(o,p=kt(D,[{type:"radio"},(!i||T&2)&&{name:d[1]},(!i||T&4)&&{__value:d[2]},d[9](),{tabindex:"-1"}])),T&1&&(o.checked=o.__value===d[0]),d[10].lead?m?(m.p(d,T),T&1024&&M(m,1)):(m=it(d),m.c(),M(m,1),m.m(a,c)):m&&(Pe(),Q(m,1,1,()=>{m=null}),Te()),z&&z.p&&(!i||T&262144)&&we(z,C,d,d[18],i?Oe(C,d[18],T,null):Ve(d[18]),null),(!i||T&64&&A!==(A="tab-interface "+d[6]))&&E(a,"class",A),(!i||T&128&&v!==(v="tab "+d[7]))&&E(t,"class",v),(!i||T&8)&&E(t,"aria-controls",d[3]),(!i||T&16)&&E(t,"aria-selected",d[4]),(!i||T&16&&_!==(_=d[4]?0:-1))&&E(t,"tabindex",_)},i(d){i||(M(m),M(z,d),i=!0)},o(d){Q(m),Q(z,d),i=!1},d(d){d&&b(e),r[25](null),m&&m.d(),z&&z.d(d),y.r(),I=!1,Le(L)}}}const Xt="text-center cursor-pointer transition-colors duration-100",Kt="";function Wt(r,e,t){let n,o,s,a;const c=["group","name","value","controls","active","hover","flex","padding","rounded","spacing"];let u=$e(e,c),{$$slots:A={},$$scope:v}=e;const _=Ue(A);let{group:i}=e,{name:y}=e,{value:I}=e,{controls:L=""}=e,{active:D=Ee("active")}=e,{hover:p=Ee("hover")}=e,{flex:m=Ee("flex")}=e,{padding:C=Ee("padding")}=e,{rounded:z=Ee("rounded")}=e,{spacing:d=Ee("spacing")}=e,T;function l(P){if(["Enter","Space"].includes(P.code))P.preventDefault(),T.click();else if(P.code==="ArrowRight"){const oe=T.closest(".tab-list");if(!oe)return;const x=Array.from(oe.querySelectorAll(".tab")),J=T.closest(".tab");if(!J)return;const Y=x.indexOf(J),se=Y+1>=x.length?0:Y+1,H=x[se],ne=H==null?void 0:H.querySelector("input");H&&ne&&(ne.click(),H.focus())}else if(P.code==="ArrowLeft"){const oe=T.closest(".tab-list");if(!oe)return;const x=Array.from(oe.querySelectorAll(".tab")),J=T.closest(".tab");if(!J)return;const Y=x.indexOf(J),se=Y-1<0?x.length-1:Y-1,H=x[se],ne=H==null?void 0:H.querySelector("input");H&&ne&&(ne.click(),H.focus())}}function h(){return delete u.class,u}const f=[[]];function w(P){pe.call(this,r,P)}function U(P){pe.call(this,r,P)}function N(P){pe.call(this,r,P)}function R(P){pe.call(this,r,P)}function B(P){pe.call(this,r,P)}function ae(P){Be[P?"unshift":"push"](()=>{T=P,t(5,T)})}function ie(){i=this.__value,t(0,i)}return r.$$set=P=>{t(29,e=je(je({},e),Se(P))),t(28,u=$e(e,c)),"group"in P&&t(0,i=P.group),"name"in P&&t(1,y=P.name),"value"in P&&t(2,I=P.value),"controls"in P&&t(3,L=P.controls),"active"in P&&t(11,D=P.active),"hover"in P&&t(12,p=P.hover),"flex"in P&&t(13,m=P.flex),"padding"in P&&t(14,C=P.padding),"rounded"in P&&t(15,z=P.rounded),"spacing"in P&&t(16,d=P.spacing),"$$scope"in P&&t(18,v=P.$$scope)},r.$$.update=()=>{r.$$.dirty&5&&t(4,n=I===i),r.$$.dirty&6160&&t(17,o=n?D:p),t(7,s=`${Xt} ${m} ${C} ${z} ${o} ${e.class??""}`),r.$$.dirty&65536&&t(6,a=`${Kt} ${d}`)},e=Se(e),[i,y,I,L,n,T,a,s,l,h,_,D,p,m,C,z,d,o,v,A,w,U,N,R,B,ae,ie,f]}class qe extends Ie{constructor(e){super(),ke(this,e,Wt,Gt,Ae,{group:0,name:1,value:2,controls:3,active:11,hover:12,flex:13,padding:14,rounded:15,spacing:16})}}class Jt extends vt{constructor(e){super(e),this.traitsPrototype=e.traits,Object.defineProperty(this,"traits",{get(){return[this.traitsPrototype,this.size,this.rarity??"common"].flat()}})}get type(){return"ancestry"}get extraHp(){let e=[];return this.heritage.forEach(t=>{var n,o;(o=(n=t==null?void 0:t.modif)==null?void 0:n.hp)!=null&&o.ancestry&&e.push({hp:t.modif.hp.ancestry,name:t.name,source:t.source,hash:this.hashify(t.name,t.source)})}),e.length?e:null}get heritages(){const e=new Map;return this.heritage.map(t=>{const n=new Qt(t,this);e.set(n.hash,n)}),e}}class Qt extends vt{constructor(e,t){super(e),this.ancestry={name:t.name,source:t.source}}get type(){return"heritage"}tag(e){return`${this.ancestry.name}|${this.ancestry.source}|${e||this.name}|${this.shortName}|${this.source}`}}const lt=Object.assign({"/src/data/core/ancestries/ancestry-anadi.json":()=>q(()=>import("../chunks/ancestry-anadi.c7960efb.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-android.json":()=>q(()=>import("../chunks/ancestry-android.22dcb6be.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-automaton.json":()=>q(()=>import("../chunks/ancestry-automaton.fee60d93.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-azarketi.json":()=>q(()=>import("../chunks/ancestry-azarketi.3b917f28.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-catfolk.json":()=>q(()=>import("../chunks/ancestry-catfolk.bd5045af.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-conrasu.json":()=>q(()=>import("../chunks/ancestry-conrasu.da2e4c50.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-dwarf.json":()=>q(()=>import("../chunks/ancestry-dwarf.a9c56490.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-elf.json":()=>q(()=>import("../chunks/ancestry-elf.a6be3b57.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-fetchling.json":()=>q(()=>import("../chunks/ancestry-fetchling.e33e9008.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-fleshwarp.json":()=>q(()=>import("../chunks/ancestry-fleshwarp.595602f6.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-ghoran.json":()=>q(()=>import("../chunks/ancestry-ghoran.6df40ca1.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-gnoll.json":()=>q(()=>import("../chunks/ancestry-gnoll.126cb3ed.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-gnome.json":()=>q(()=>import("../chunks/ancestry-gnome.29e51bc5.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-goblin.json":()=>q(()=>import("../chunks/ancestry-goblin.20b6d1cf.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-goloma.json":()=>q(()=>import("../chunks/ancestry-goloma.dd6e3190.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-grippli.json":()=>q(()=>import("../chunks/ancestry-grippli.fdaff84b.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-halfling.json":()=>q(()=>import("../chunks/ancestry-halfling.869fea2a.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-hobgoblin.json":()=>q(()=>import("../chunks/ancestry-hobgoblin.1982cdf8.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-human.json":()=>q(()=>import("../chunks/ancestry-human.c6d51bf9.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-kashrishi.json":()=>q(()=>import("../chunks/ancestry-kashrishi.d4a79401.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-kitsune.json":()=>q(()=>import("../chunks/ancestry-kitsune.7a0d21b9.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-kobold.json":()=>q(()=>import("../chunks/ancestry-kobold.943b8121.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-leshy.json":()=>q(()=>import("../chunks/ancestry-leshy.4488d032.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-lizardfolk.json":()=>q(()=>import("../chunks/ancestry-lizardfolk.838c0136.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-nagaji.json":()=>q(()=>import("../chunks/ancestry-nagaji.4695cdf8.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-orc.json":()=>q(()=>import("../chunks/ancestry-orc.0dc73a51.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-poppet.json":()=>q(()=>import("../chunks/ancestry-poppet.65e96566.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-ratfolk.json":()=>q(()=>import("../chunks/ancestry-ratfolk.4edfccc8.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-shisk.json":()=>q(()=>import("../chunks/ancestry-shisk.454bc4c6.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-shoony.json":()=>q(()=>import("../chunks/ancestry-shoony.4507cf60.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-skeleton.json":()=>q(()=>import("../chunks/ancestry-skeleton.e21ad147.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-sprite.json":()=>q(()=>import("../chunks/ancestry-sprite.e86541d9.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-strix.json":()=>q(()=>import("../chunks/ancestry-strix.41a15f4b.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-tengu.json":()=>q(()=>import("../chunks/ancestry-tengu.d6b302cb.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-vanara.json":()=>q(()=>import("../chunks/ancestry-vanara.f23f4f4a.js"),[],import.meta.url),"/src/data/core/ancestries/ancestry-vishkanya.json":()=>q(()=>import("../chunks/ancestry-vishkanya.7c187811.js"),[],import.meta.url)});async function Zt(){const r=new Map;for(const e in lt)await lt[e]().then(t=>{t.ancestry.forEach(o=>{o._path=e;const s=new Jt(o);r.set(s.hash,s)})});return{ancestries:r}}const wr=Object.freeze(Object.defineProperty({__proto__:null,load:Zt},Symbol.toStringTag,{value:"Module"})),Yt=Vt("goto");function ct(r,e,t){const n=r.slice();return n[13]=e[t],n}const xt=r=>({item:r&9}),ut=r=>({item:r[13]}),$t=r=>({}),ft=r=>({});function dt(r){let e,t;const n=r[9].header,o=De(n,r,r[8],ft);return{c(){e=V("div"),o&&o.c(),this.h()},l(s){e=O(s,"DIV",{class:!0});var a=j(e);o&&o.l(a),a.forEach(b),this.h()},h(){E(e,"class","row header px-1 svelte-auiqv")},m(s,a){$(s,e,a),o&&o.m(e,null),t=!0},p(s,a){o&&o.p&&(!t||a&256)&&we(o,n,s,s[8],t?Oe(n,s[8],a,$t):Ve(s[8]),ft)},i(s){t||(M(o,s),t=!0)},o(s){Q(o,s),t=!1},d(s){s&&b(e),o&&o.d(s)}}}function ht(r){let e,t,n,o,s;const a=r[9].list,c=De(a,r,r[8],ut);return{c(){e=V("div"),t=V("a"),c&&c.c(),o=X(),this.h()},l(u){e=O(u,"DIV",{class:!0});var A=j(e);t=O(A,"A",{href:!0,class:!0});var v=j(t);c&&c.l(v),v.forEach(b),o=K(A),A.forEach(b),this.h()},h(){E(t,"href",n="#"+r[13].hash),E(t,"class","unstyled"),E(e,"class","row text-sm px-1 leading-5 bg-[#cbcbcb] hover:bg-[#d3d3d3] dark:bg-[#222] dark:hover:bg-[#333]  svelte-auiqv"),ce(e,"selected",r[13].hash===r[1].hash)},m(u,A){$(u,e,A),g(e,t),c&&c.m(t,null),g(e,o),s=!0},p(u,A){c&&c.p&&(!s||A&265)&&we(c,a,u,u[8],s?Oe(a,u[8],A,xt):Ve(u[8]),ut),(!s||A&9&&n!==(n="#"+u[13].hash))&&E(t,"href",n),(!s||A&11)&&ce(e,"selected",u[13].hash===u[1].hash)},i(u){s||(M(c,u),s=!0)},o(u){Q(c,u),s=!1},d(u){u&&b(e),c&&c.d(u)}}}function er(r){let e,t,n,o,s,a,c,u,A,v,_,i,y,I,L,D,p=r[5].header&&dt(r),m=r[0].filter(r[3]).toValueArray(),C=[];for(let d=0;d<m.length;d+=1)C[d]=ht(ct(r,m,d));const z=d=>Q(C[d],1,1,()=>{C[d]=null});return{c(){e=V("button"),t=X(),n=V("button"),o=X(),s=V("div"),a=V("div"),c=V("button"),u=te("Filters"),A=X(),v=V("input"),_=X(),p&&p.c(),i=X(),y=V("div");for(let d=0;d<C.length;d+=1)C[d].c();this.h()},l(d){e=O(d,"BUTTON",{class:!0}),j(e).forEach(b),t=K(d),n=O(d,"BUTTON",{class:!0}),j(n).forEach(b),o=K(d),s=O(d,"DIV",{class:!0});var T=j(s);a=O(T,"DIV",{class:!0});var l=j(a);c=O(l,"BUTTON",{class:!0});var h=j(c);u=re(h,"Filters"),h.forEach(b),A=K(l),v=O(l,"INPUT",{class:!0,type:!0}),l.forEach(b),_=K(T),p&&p.l(T),i=K(T),y=O(T,"DIV",{class:!0});var f=j(y);for(let w=0;w<C.length;w+=1)C[w].l(f);f.forEach(b),T.forEach(b),this.h()},h(){E(e,"class","hidden"),E(n,"class","hidden"),E(c,"class","btn variant-ghost-surface rounded-tl-md rounded-none px-2"),E(v,"class","w-[100%] rounded-t-md variant-ghost-surface border-none rounded-tl-none"),E(v,"type","search"),E(a,"class","flex h-8"),E(y,"class","h-[84vh] overflow-y-scroll mr-[-9px]"),E(s,"class","overflow-x-hidden")},m(d,T){$(d,e,T),$(d,t,T),$(d,n,T),$(d,o,T),$(d,s,T),g(s,a),g(a,c),g(c,u),g(a,A),g(a,v),et(v,r[2]),g(s,_),p&&p.m(s,null),g(s,i),g(s,y);for(let l=0;l<C.length;l+=1)C[l]&&C[l].m(y,null);I=!0,L||(D=[Z(e,"click",r[10]),tt(rt.call(null,e,"k")),Z(n,"click",r[11]),tt(rt.call(null,n,"j")),Z(v,"input",r[12])],L=!0)},p(d,[T]){if(T&4&&v.value!==d[2]&&et(v,d[2]),d[5].header?p?(p.p(d,T),T&32&&M(p,1)):(p=dt(d),p.c(),M(p,1),p.m(s,i)):p&&(Pe(),Q(p,1,1,()=>{p=null}),Te()),T&267){m=d[0].filter(d[3]).toValueArray();let l;for(l=0;l<m.length;l+=1){const h=ct(d,m,l);C[l]?(C[l].p(h,T),M(C[l],1)):(C[l]=ht(h),C[l].c(),M(C[l],1),C[l].m(y,null))}for(Pe(),l=m.length;l<C.length;l+=1)z(l);Te()}},i(d){if(!I){M(p);for(let T=0;T<m.length;T+=1)M(C[T]);I=!0}},o(d){Q(p),C=C.filter(Boolean);for(let T=0;T<C.length;T+=1)Q(C[T]);I=!1},d(d){d&&b(e),d&&b(t),d&&b(n),d&&b(o),d&&b(s),p&&p.d(),At(C,d),L=!1,Le(D)}}}function tr(r,e,t){let n,o,{$$slots:s={},$$scope:a}=e;const c=Ue(s);let{data:u}=e,{field:A}=e,{selected:v}=e,_="";function i(D){let p=[...u.values()].indexOf(v),m=[...u.values()][p===0&&D===-1?u.size-1:(p+D)%u.size];Yt("#"+m.hash)}const y=D=>{i(-1)},I=D=>{i(1)};function L(){_=this.value,t(2,_)}return r.$$set=D=>{"data"in D&&t(0,u=D.data),"field"in D&&t(6,A=D.field),"selected"in D&&t(1,v=D.selected),"$$scope"in D&&t(8,a=D.$$scope)},r.$$.update=()=>{r.$$.dirty&4&&t(7,n=_?new RegExp(_,"i"):null),r.$$.dirty&192&&t(3,o=D=>n?n.test(D[A]):!0)},[u,v,_,o,i,c,A,n,a,s,y,I,L]}class rr extends Ie{constructor(e){super(),ke(this,e,tr,er,Ae,{data:0,field:6,selected:1})}}function nr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pt={exports:{}};(function(r){(function(e){var t=C(),n=z(),o=d(),s=T(),a={imagePlaceholder:void 0,cacheBust:!1},c={toSvg:u,toPng:v,toJpeg:_,toBlob:i,toPixelData:A,impl:{fontFaces:o,images:s,util:t,inliner:n,options:{}}};r.exports=c;function u(l,h){return h=h||{},y(h),Promise.resolve(l).then(function(w){return L(w,h.filter,!0)}).then(D).then(p).then(f).then(function(w){return m(w,h.width||t.width(l),h.height||t.height(l))});function f(w){return h.bgcolor&&(w.style.backgroundColor=h.bgcolor),h.width&&(w.style.width=h.width+"px"),h.height&&(w.style.height=h.height+"px"),h.style&&Object.keys(h.style).forEach(function(U){w.style[U]=h.style[U]}),w}}function A(l,h){return I(l,h||{}).then(function(f){return f.getContext("2d").getImageData(0,0,t.width(l),t.height(l)).data})}function v(l,h){return I(l,h||{}).then(function(f){return f.toDataURL()})}function _(l,h){return h=h||{},I(l,h).then(function(f){return f.toDataURL("image/jpeg",h.quality||1)})}function i(l,h){return I(l,h||{}).then(t.canvasToBlob)}function y(l){typeof l.imagePlaceholder>"u"?c.impl.options.imagePlaceholder=a.imagePlaceholder:c.impl.options.imagePlaceholder=l.imagePlaceholder,typeof l.cacheBust>"u"?c.impl.options.cacheBust=a.cacheBust:c.impl.options.cacheBust=l.cacheBust}function I(l,h){return u(l,h).then(t.makeImage).then(t.delay(100)).then(function(w){var U=f(l);return U.getContext("2d").drawImage(w,0,0),U});function f(w){var U=document.createElement("canvas");if(U.width=h.width||t.width(w),U.height=h.height||t.height(w),h.bgcolor){var N=U.getContext("2d");N.fillStyle=h.bgcolor,N.fillRect(0,0,U.width,U.height)}return U}}function L(l,h,f){if(!f&&h&&!h(l))return Promise.resolve();return Promise.resolve(l).then(w).then(function(R){return U(l,R,h)}).then(function(R){return N(l,R)});function w(R){return R instanceof HTMLCanvasElement?t.makeImage(R.toDataURL()):R.cloneNode(!1)}function U(R,B,ae){var ie=R.childNodes;if(ie.length===0)return Promise.resolve(B);return P(B,t.asArray(ie),ae).then(function(){return B});function P(oe,x,J){var Y=Promise.resolve();return x.forEach(function(se){Y=Y.then(function(){return L(se,J)}).then(function(H){H&&oe.appendChild(H)})}),Y}}function N(R,B){if(!(B instanceof Element))return B;return Promise.resolve().then(ae).then(ie).then(P).then(oe).then(function(){return B});function ae(){x(window.getComputedStyle(R),B.style);function x(J,Y){J.cssText?Y.cssText=J.cssText:se(J,Y);function se(H,ne){t.asArray(H).forEach(function(k){ne.setProperty(k,H.getPropertyValue(k),H.getPropertyPriority(k))})}}}function ie(){[":before",":after"].forEach(function(J){x(J)});function x(J){var Y=window.getComputedStyle(R,J),se=Y.getPropertyValue("content");if(se===""||se==="none")return;var H=t.uid();B.className=B.className+" "+H;var ne=document.createElement("style");ne.appendChild(k(H,J,Y)),B.appendChild(ne);function k(F,W,S){var G="."+F+":"+W,le=S.cssText?ge(S):be(S);return document.createTextNode(G+"{"+le+"}");function ge(fe){var ue=fe.getPropertyValue("content");return fe.cssText+" content: "+ue+";"}function be(fe){return t.asArray(fe).map(ue).join("; ")+";";function ue(ee){return ee+": "+fe.getPropertyValue(ee)+(fe.getPropertyPriority(ee)?" !important":"")}}}}}function P(){R instanceof HTMLTextAreaElement&&(B.innerHTML=R.value),R instanceof HTMLInputElement&&B.setAttribute("value",R.value)}function oe(){B instanceof SVGElement&&(B.setAttribute("xmlns","http://www.w3.org/2000/svg"),B instanceof SVGRectElement&&["width","height"].forEach(function(x){var J=B.getAttribute(x);J&&B.style.setProperty(x,J)}))}}}function D(l){return o.resolveAll().then(function(h){var f=document.createElement("style");return l.appendChild(f),f.appendChild(document.createTextNode(h)),l})}function p(l){return s.inlineAll(l).then(function(){return l})}function m(l,h,f){return Promise.resolve(l).then(function(w){return w.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(w)}).then(t.escapeXhtml).then(function(w){return'<foreignObject x="0" y="0" width="100%" height="100%">'+w+"</foreignObject>"}).then(function(w){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+h+'" height="'+f+'">'+w+"</svg>"}).then(function(w){return"data:image/svg+xml;charset=utf-8,"+w})}function C(){return{escape:oe,parseExtension:h,mimeType:f,dataAsUrl:P,isDataUrl:w,canvasToBlob:N,resolveUrl:R,getAndEncode:ie,uid:B(),delay:x,asArray:J,escapeXhtml:Y,makeImage:ae,width:se,height:H};function l(){var k="application/font-woff",F="image/jpeg";return{woff:k,woff2:k,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:F,jpeg:F,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function h(k){var F=/\.([^\.\/]*?)$/g.exec(k);return F?F[1]:""}function f(k){var F=h(k).toLowerCase();return l()[F]||""}function w(k){return k.search(/^(data:)/)!==-1}function U(k){return new Promise(function(F){for(var W=window.atob(k.toDataURL().split(",")[1]),S=W.length,G=new Uint8Array(S),le=0;le<S;le++)G[le]=W.charCodeAt(le);F(new Blob([G],{type:"image/png"}))})}function N(k){return k.toBlob?new Promise(function(F){k.toBlob(F)}):U(k)}function R(k,F){var W=document.implementation.createHTMLDocument(),S=W.createElement("base");W.head.appendChild(S);var G=W.createElement("a");return W.body.appendChild(G),S.href=F,G.href=k,G.href}function B(){var k=0;return function(){return"u"+F()+k++;function F(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function ae(k){return new Promise(function(F,W){var S=new Image;S.onload=function(){F(S)},S.onerror=W,S.src=k})}function ie(k){var F=3e4;return c.impl.options.cacheBust&&(k+=(/\?/.test(k)?"&":"?")+new Date().getTime()),new Promise(function(W){var S=new XMLHttpRequest;S.onreadystatechange=ge,S.ontimeout=be,S.responseType="blob",S.timeout=F,S.open("GET",k,!0),S.send();var G;if(c.impl.options.imagePlaceholder){var le=c.impl.options.imagePlaceholder.split(/,/);le&&le[1]&&(G=le[1])}function ge(){if(S.readyState===4){if(S.status!==200){G?W(G):fe("cannot fetch resource: "+k+", status: "+S.status);return}var ue=new FileReader;ue.onloadend=function(){var ee=ue.result.split(/,/)[1];W(ee)},ue.readAsDataURL(S.response)}}function be(){G?W(G):fe("timeout of "+F+"ms occured while fetching resource: "+k)}function fe(ue){console.error(ue),W("")}})}function P(k,F){return"data:"+F+";base64,"+k}function oe(k){return k.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function x(k){return function(F){return new Promise(function(W){setTimeout(function(){W(F)},k)})}}function J(k){for(var F=[],W=k.length,S=0;S<W;S++)F.push(k[S]);return F}function Y(k){return k.replace(/#/g,"%23").replace(/\n/g,"%0A")}function se(k){var F=ne(k,"border-left-width"),W=ne(k,"border-right-width");return k.scrollWidth+F+W}function H(k){var F=ne(k,"border-top-width"),W=ne(k,"border-bottom-width");return k.scrollHeight+F+W}function ne(k,F){var W=window.getComputedStyle(k).getPropertyValue(F);return parseFloat(W.replace("px",""))}}function z(){var l=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:U,shouldProcess:h,impl:{readUrls:f,inline:w}};function h(N){return N.search(l)!==-1}function f(N){for(var R=[],B;(B=l.exec(N))!==null;)R.push(B[1]);return R.filter(function(ae){return!t.isDataUrl(ae)})}function w(N,R,B,ae){return Promise.resolve(R).then(function(P){return B?t.resolveUrl(P,B):P}).then(ae||t.getAndEncode).then(function(P){return t.dataAsUrl(P,t.mimeType(R))}).then(function(P){return N.replace(ie(R),"$1"+P+"$3")});function ie(P){return new RegExp(`(url\\(['"]?)(`+t.escape(P)+`)(['"]?\\))`,"g")}}function U(N,R,B){if(ae())return Promise.resolve(N);return Promise.resolve(N).then(f).then(function(ie){var P=Promise.resolve(N);return ie.forEach(function(oe){P=P.then(function(x){return w(x,oe,R,B)})}),P});function ae(){return!h(N)}}}function d(){return{resolveAll:l,impl:{readAll:h}};function l(){return h().then(function(f){return Promise.all(f.map(function(w){return w.resolve()}))}).then(function(f){return f.join(`
`)})}function h(){return Promise.resolve(t.asArray(document.styleSheets)).then(w).then(f).then(function(N){return N.map(U)});function f(N){return N.filter(function(R){return R.type===CSSRule.FONT_FACE_RULE}).filter(function(R){return n.shouldProcess(R.style.getPropertyValue("src"))})}function w(N){var R=[];return N.forEach(function(B){try{t.asArray(B.cssRules||[]).forEach(R.push.bind(R))}catch(ae){console.log("Error while reading CSS rules from "+B.href,ae.toString())}}),R}function U(N){return{resolve:function(){var B=(N.parentStyleSheet||{}).href;return n.inlineAll(N.cssText,B)},src:function(){return N.style.getPropertyValue("src")}}}}}function T(){return{inlineAll:h,impl:{newImage:l}};function l(f){return{inline:w};function w(U){return t.isDataUrl(f.src)?Promise.resolve():Promise.resolve(f.src).then(U||t.getAndEncode).then(function(N){return t.dataAsUrl(N,t.mimeType(f.src))}).then(function(N){return new Promise(function(R,B){f.onload=R,f.onerror=B,f.src=N})})}}function h(f){if(!(f instanceof Element))return Promise.resolve(f);return w(f).then(function(){return f instanceof HTMLImageElement?l(f).inline():Promise.all(t.asArray(f.childNodes).map(function(U){return h(U)}))});function w(U){var N=U.style.getPropertyValue("background");return N?n.inlineAll(N).then(function(R){U.style.setProperty("background",R,U.style.getPropertyPriority("background"))}).then(function(){return U}):Promise.resolve(U)}}}})()})(Pt);var ar=Pt.exports;const Ce=nr(ar);function sr(r){let e,t,n,o,s,a,c,u,A,v,_,i,y,I,L,D,p,m,C,z,d,T,l,h,f,w,U,N,R,B,ae,ie,P,oe,x,J,Y,se,H,ne,k,F,W;return H=new bt({props:{entries:r[0]}}),{c(){e=V("div"),t=V("div"),n=V("div"),o=V("button"),s=te("Save"),a=X(),c=V("button"),u=te("Copy"),A=X(),v=V("div"),_=V("div"),i=V("div"),y=te("Aspect Ratio:"),I=X(),L=V("button"),D=te("None"),p=X(),m=V("button"),C=te("1:1"),z=X(),d=V("button"),T=te("2:1"),l=X(),h=V("button"),f=te("3:4"),w=X(),U=V("button"),N=te("4:7"),R=X(),B=V("button"),ae=te("7:8"),ie=X(),P=V("button"),oe=te("16:9"),x=X(),J=V("div"),Y=V("div"),se=V("div"),de(H.$$.fragment),this.h()},l(S){e=O(S,"DIV",{class:!0});var G=j(e);t=O(G,"DIV",{class:!0});var le=j(t);n=O(le,"DIV",{class:!0});var ge=j(n);o=O(ge,"BUTTON",{});var be=j(o);s=re(be,"Save"),be.forEach(b),a=K(ge),c=O(ge,"BUTTON",{});var fe=j(c);u=re(fe,"Copy"),fe.forEach(b),ge.forEach(b),le.forEach(b),A=K(G),v=O(G,"DIV",{class:!0});var ue=j(v);_=O(ue,"DIV",{class:!0});var ee=j(_);i=O(ee,"DIV",{class:!0});var ze=j(i);y=re(ze,"Aspect Ratio:"),ze.forEach(b),I=K(ee),L=O(ee,"BUTTON",{});var Me=j(L);D=re(Me,"None"),Me.forEach(b),p=K(ee),m=O(ee,"BUTTON",{});var He=j(m);C=re(He,"1:1"),He.forEach(b),z=K(ee),d=O(ee,"BUTTON",{});var Ge=j(d);T=re(Ge,"2:1"),Ge.forEach(b),l=K(ee),h=O(ee,"BUTTON",{});var Xe=j(h);f=re(Xe,"3:4"),Xe.forEach(b),w=K(ee),U=O(ee,"BUTTON",{});var Ke=j(U);N=re(Ke,"4:7"),Ke.forEach(b),R=K(ee),B=O(ee,"BUTTON",{});var We=j(B);ae=re(We,"7:8"),We.forEach(b),ie=K(ee),P=O(ee,"BUTTON",{});var Je=j(P);oe=re(Je,"16:9"),Je.forEach(b),ee.forEach(b),x=K(ue),J=O(ue,"DIV",{class:!0});var Qe=j(J);Y=O(Qe,"DIV",{class:!0});var Ze=j(Y);se=O(Ze,"DIV",{class:!0});var Ye=j(se);he(H.$$.fragment,Ye),Ye.forEach(b),Ze.forEach(b),Qe.forEach(b),ue.forEach(b),G.forEach(b),this.h()},h(){E(n,"class","btn-group variant-ghost-surface m-auto"),E(t,"class","flex"),E(i,"class","p-2 whitespace-nowrap text-ellipsis"),ce(L,"variant-ghost-secondary",r[1]===""),ce(m,"variant-ghost-secondary",r[1]==="aspect-square"),ce(d,"variant-ghost-secondary",r[1]==="aspect-[2/1]"),ce(h,"variant-ghost-secondary",r[1]==="aspect-[3/4]"),ce(U,"variant-ghost-secondary",r[1]==="aspect-[4/7]"),ce(B,"variant-ghost-secondary",r[1]==="aspect-[7/8]"),ce(P,"variant-ghost-secondary",r[1]==="aspect-video"),E(_,"class","btn-group-vertical variant-ghost-surface"),E(se,"class","m-1.5"),E(Y,"class",ne="wrp-stats stats !overflow-hidden resize-x w-96 "+r[1]),E(J,"class","pf2ools"),E(v,"class","flex"),E(e,"class","relative scale-75 sm:scale-100")},m(S,G){$(S,e,G),g(e,t),g(t,n),g(n,o),g(o,s),g(n,a),g(n,c),g(c,u),g(e,A),g(e,v),g(v,_),g(_,i),g(i,y),g(_,I),g(_,L),g(L,D),g(_,p),g(_,m),g(m,C),g(_,z),g(_,d),g(d,T),g(_,l),g(_,h),g(h,f),g(_,w),g(_,U),g(U,N),g(_,R),g(_,B),g(B,ae),g(_,ie),g(_,P),g(P,oe),g(v,x),g(v,J),g(J,Y),g(Y,se),me(H,se,null),k=!0,F||(W=[Z(o,"click",r[3]),Z(c,"click",r[2]),Z(L,"click",r[5]),Z(m,"click",r[6]),Z(d,"click",r[7]),Z(h,"click",r[8]),Z(U,"click",r[9]),Z(B,"click",r[10]),Z(P,"click",r[11])],F=!0)},p(S,[G]){(!k||G&2)&&ce(L,"variant-ghost-secondary",S[1]===""),(!k||G&2)&&ce(m,"variant-ghost-secondary",S[1]==="aspect-square"),(!k||G&2)&&ce(d,"variant-ghost-secondary",S[1]==="aspect-[2/1]"),(!k||G&2)&&ce(h,"variant-ghost-secondary",S[1]==="aspect-[3/4]"),(!k||G&2)&&ce(U,"variant-ghost-secondary",S[1]==="aspect-[4/7]"),(!k||G&2)&&ce(B,"variant-ghost-secondary",S[1]==="aspect-[7/8]"),(!k||G&2)&&ce(P,"variant-ghost-secondary",S[1]==="aspect-video");const le={};G&1&&(le.entries=S[0]),H.$set(le),(!k||G&2&&ne!==(ne="wrp-stats stats !overflow-hidden resize-x w-96 "+S[1]))&&E(Y,"class",ne)},i(S){k||(M(H.$$.fragment,S),k=!0)},o(S){Q(H.$$.fragment,S),k=!1},d(S){S&&b(e),_e(H),F=!1,Le(W)}}}function mt(r){let e=4;return{width:r.clientWidth*e,height:r.clientHeight*e,style:{transform:`scale(${e})`,transformOrigin:"top left"}}}function or(r,e,t){let n,{entries:o}=e,s=new yt;function a(){const D=document.querySelector(".wrp-stats");Ce.toBlob(D,mt).then(p=>{navigator.clipboard.write([new ClipboardItem({"image/png":p})]),s.success("Copied to Clipboard")}).catch(p=>{console.error("Failed to take screenshot",p)})}function c(){const D=document.querySelector(".wrp-stats");Ce.toPng(D,mt).then(p=>{const m=document.createElement("a");m.download="screenshot.png",m.href=p,m.click()}).catch(p=>{console.error("Failed to take screenshot",p)})}let u=Ot("");Et(r,u,D=>t(1,n=D));const A=()=>ve(u,n="",n),v=()=>ve(u,n="aspect-square",n),_=()=>ve(u,n="aspect-[2/1]",n),i=()=>ve(u,n="aspect-[3/4]",n),y=()=>ve(u,n="aspect-[4/7]",n),I=()=>ve(u,n="aspect-[7/8]",n),L=()=>ve(u,n="aspect-video",n);return r.$$set=D=>{"entries"in D&&t(0,o=D.entries)},[o,n,a,c,u,A,v,_,i,y,I,L]}class ir extends Ie{constructor(e){super(),ke(this,e,or,sr,Ae,{entries:0})}}function lr(r){let e;return{c(){e=te("Stats")},l(t){e=re(t,"Stats")},m(t,n){$(t,e,n)},d(t){t&&b(e)}}}function _t(r){let e,t,n;function o(a){r[5](a)}let s={value:"fluff",padding:"px-2 select-none",$$slots:{default:[cr]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.group=r[1]),e=new qe({props:s}),Be.push(()=>Ne(e,"group",o)),{c(){de(e.$$.fragment)},l(a){he(e.$$.fragment,a)},m(a,c){me(e,a,c),n=!0},p(a,c){const u={};c&512&&(u.$$scope={dirty:c,ctx:a}),!t&&c&2&&(t=!0,u.group=a[1],Fe(()=>t=!1)),e.$set(u)},i(a){n||(M(e.$$.fragment,a),n=!0)},o(a){Q(e.$$.fragment,a),n=!1},d(a){_e(e,a)}}}function cr(r){let e;return{c(){e=te("Fluff")},l(t){e=re(t,"Fluff")},m(t,n){$(t,e,n)},d(t){t&&b(e)}}}function pt(r){let e,t,n;function o(a){r[6](a)}let s={value:"images",padding:"px-2 select-none",$$slots:{default:[ur]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.group=r[1]),e=new qe({props:s}),Be.push(()=>Ne(e,"group",o)),{c(){de(e.$$.fragment)},l(a){he(e.$$.fragment,a)},m(a,c){me(e,a,c),n=!0},p(a,c){const u={};c&512&&(u.$$scope={dirty:c,ctx:a}),!t&&c&2&&(t=!0,u.group=a[1],Fe(()=>t=!1)),e.$set(u)},i(a){n||(M(e.$$.fragment,a),n=!0)},o(a){Q(e.$$.fragment,a),n=!1},d(a){_e(e,a)}}}function ur(r){let e;return{c(){e=te("Images")},l(t){e=re(t,"Images")},m(t,n){$(t,e,n)},d(t){t&&b(e)}}}function fr(r){var C,z,d,T;let e,t,n,o,s,a,c,u,A,v,_,i,y,I;function L(l){r[4](l)}let D={value:"data",padding:"px-2 select-none",$$slots:{default:[lr]},$$scope:{ctx:r}};r[1]!==void 0&&(D.group=r[1]),e=new qe({props:D}),Be.push(()=>Ne(e,"group",L));let p=((z=(C=r[0])==null?void 0:C.fluff)==null?void 0:z.length)&&_t(r),m=((T=(d=r[0])==null?void 0:d.images)==null?void 0:T.length)&&pt(r);return u=new nt({props:{icon:jt}}),_=new nt({props:{icon:Lt}}),{c(){de(e.$$.fragment),n=X(),p&&p.c(),o=X(),m&&m.c(),s=X(),a=V("div"),c=V("button"),de(u.$$.fragment),A=X(),v=V("button"),de(_.$$.fragment),this.h()},l(l){he(e.$$.fragment,l),n=K(l),p&&p.l(l),o=K(l),m&&m.l(l),s=K(l),a=O(l,"DIV",{class:!0});var h=j(a);c=O(h,"BUTTON",{id:!0,class:!0,title:!0});var f=j(c);he(u.$$.fragment,f),f.forEach(b),A=K(h),v=O(h,"BUTTON",{id:!0,class:!0,title:!0});var w=j(v);he(_.$$.fragment,w),w.forEach(b),h.forEach(b),this.h()},h(){E(c,"id","screenshot"),E(c,"class","btn btn-sm p-1 variant-ghost-surface rounded-b-none"),E(c,"title","Screenshot the Current Tab (+ Ctrl to Copy to Clipboard, + Shift to Download)"),E(v,"id","code"),E(v,"class","btn btn-sm m-0 p-1 variant-ghost-surface rounded-b-none"),E(v,"title","Show JSON Data"),E(a,"class","ml-auto")},m(l,h){me(e,l,h),$(l,n,h),p&&p.m(l,h),$(l,o,h),m&&m.m(l,h),$(l,s,h),$(l,a,h),g(a,c),me(u,c,null),g(a,A),g(a,v),me(_,v,null),i=!0,y||(I=[Z(c,"click",r[7]),Z(v,"click",r[8])],y=!0)},p(l,h){var w,U,N,R;const f={};h&512&&(f.$$scope={dirty:h,ctx:l}),!t&&h&2&&(t=!0,f.group=l[1],Fe(()=>t=!1)),e.$set(f),(U=(w=l[0])==null?void 0:w.fluff)!=null&&U.length?p?(p.p(l,h),h&1&&M(p,1)):(p=_t(l),p.c(),M(p,1),p.m(o.parentNode,o)):p&&(Pe(),Q(p,1,1,()=>{p=null}),Te()),(R=(N=l[0])==null?void 0:N.images)!=null&&R.length?m?(m.p(l,h),h&1&&M(m,1)):(m=pt(l),m.c(),M(m,1),m.m(s.parentNode,s)):m&&(Pe(),Q(m,1,1,()=>{m=null}),Te())},i(l){i||(M(e.$$.fragment,l),M(p),M(m),M(u.$$.fragment,l),M(_.$$.fragment,l),i=!0)},o(l){Q(e.$$.fragment,l),Q(p),Q(m),Q(u.$$.fragment,l),Q(_.$$.fragment,l),i=!1},d(l){_e(e,l),l&&b(n),p&&p.d(l),l&&b(o),m&&m.d(l),l&&b(s),l&&b(a),_e(u),_e(_),y=!1,Le(I)}}}function dr(r){let e,t,n,o;return n=new bt({props:{entries:r[1]==="data"?r[0]:r[0][r[1]]}}),{c(){e=V("div"),t=V("div"),de(n.$$.fragment),this.h()},l(s){e=O(s,"DIV",{class:!0});var a=j(e);t=O(a,"DIV",{class:!0});var c=j(t);he(n.$$.fragment,c),c.forEach(b),a.forEach(b),this.h()},h(){E(t,"class","m-1.5"),E(e,"class","wrp-stats stats")},m(s,a){$(s,e,a),g(e,t),me(n,t,null),o=!0},p(s,a){const c={};a&3&&(c.entries=s[1]==="data"?s[0]:s[0][s[1]]),n.$set(c)},i(s){o||(M(n.$$.fragment,s),o=!0)},o(s){Q(n.$$.fragment,s),o=!1},d(s){s&&b(e),_e(n)}}}function hr(r){let e,t;return e=new Mt({props:{regionPanel:"!mt-0 pf2ools",active:"border-primary-500 border-b-4 mt-[-4px]",$$slots:{panel:[dr],default:[fr]},$$scope:{ctx:r}}}),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,o){me(e,n,o),t=!0},p(n,[o]){const s={};o&515&&(s.$$scope={dirty:o,ctx:n}),e.$set(s)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function mr(r,e,t){let n,{selected:o}=e,s=new yt,a=St("data");Et(r,a,i=>t(1,n=i));function c(i){n=i,a.set(n)}function u(i){n=i,a.set(n)}function A(i){n=i,a.set(n)}const v=i=>{const y=document.querySelector(".wrp-stats");i.ctrlKey||i.shiftKey?(i.ctrlKey?Ce.toBlob(y):Ce.toPng(y)).then(I=>{if(i.shiftKey){const L=document.createElement("a");L.download="screenshot.png",L.href=I,L.click()}else i.ctrlKey&&(navigator.clipboard.write([new ClipboardItem({"image/png":I})]),s.success("Copied to Clipboard"))}).catch(I=>{console.error("Failed to take screenshot",I)}):Rt.trigger({type:"component",component:{ref:ir,props:{entries:n==="data"?o:o[n]}}})},_=i=>{console.log(o),s.success("Pasted to Console")};return r.$$set=i=>{"selected"in i&&t(0,o=i.selected)},[o,n,s,a,c,u,A,v,_]}class _r extends Ie{constructor(e){super(),ke(this,e,mr,hr,Ae,{selected:0})}}function pr(r){let e,t,n,o,s,a,c,u,A,v,_,i;return{c(){e=V("div"),t=V("div"),n=te("Name"),o=X(),s=V("div"),a=te("HP"),c=X(),u=V("div"),A=te("Size"),v=X(),_=V("div"),i=te("Source"),this.h()},l(y){e=O(y,"DIV",{class:!0});var I=j(e);t=O(I,"DIV",{id:!0});var L=j(t);n=re(L,"Name"),L.forEach(b),o=K(I),s=O(I,"DIV",{id:!0});var D=j(s);a=re(D,"HP"),D.forEach(b),c=K(I),u=O(I,"DIV",{id:!0});var p=j(u);A=re(p,"Size"),p.forEach(b),v=K(I),_=O(I,"DIV",{id:!0});var m=j(_);i=re(m,"Source"),m.forEach(b),I.forEach(b),this.h()},h(){E(t,"id","name"),E(s,"id","hp"),E(u,"id","size"),E(_,"id","source"),E(e,"class","pl-0.5 grid "+Tt)},m(y,I){$(y,e,I),g(e,t),g(t,n),g(e,o),g(e,s),g(s,a),g(e,c),g(e,u),g(u,A),g(e,v),g(e,_),g(_,i)},p:wt,d(y){y&&b(e)}}}function gr(r){let e,t,n=r[4].name+"",o,s,a,c=r[4].hp+"",u,A,v,_=r[4].size.map(gt).joinConjunct(", "," or ")+"",i,y,I,L=r[4].source+"",D;return{c(){e=V("div"),t=V("span"),o=te(n),s=X(),a=V("span"),u=te(c),A=X(),v=V("span"),i=te(_),y=X(),I=V("span"),D=te(L),this.h()},l(p){e=O(p,"DIV",{class:!0});var m=j(e);t=O(m,"SPAN",{id:!0});var C=j(t);o=re(C,n),C.forEach(b),s=K(m),a=O(m,"SPAN",{id:!0});var z=j(a);u=re(z,c),z.forEach(b),A=K(m),v=O(m,"SPAN",{id:!0});var d=j(v);i=re(d,_),d.forEach(b),y=K(m),I=O(m,"SPAN",{id:!0});var T=j(I);D=re(T,L),T.forEach(b),m.forEach(b),this.h()},h(){E(t,"id","name"),E(a,"id","hp"),E(v,"id","size"),E(I,"id","source"),E(e,"class","pl-0.5 grid "+Tt)},m(p,m){$(p,e,m),g(e,t),g(t,o),g(e,s),g(e,a),g(a,u),g(e,A),g(e,v),g(v,i),g(e,y),g(e,I),g(I,D)},p(p,m){m&16&&n!==(n=p[4].name+"")&&Re(o,n),m&16&&c!==(c=p[4].hp+"")&&Re(u,c),m&16&&_!==(_=p[4].size.map(gt).joinConjunct(", "," or ")+"")&&Re(i,_),m&16&&L!==(L=p[4].source+"")&&Re(D,L)},d(p){p&&b(e)}}}function vr(r){let e,t,n,o,s,a,c,u,A,v,_;return n=new rr({props:{data:r[0].ancestries,field:"name",selected:r[1],$$slots:{list:[gr,({item:i})=>({4:i}),({item:i})=>i?16:0],header:[pr,({item:i})=>({4:i}),({item:i})=>i?16:0]},$$scope:{ctx:r}}}),a=new _r({props:{selected:r[1]}}),document.title=u=(r[1]?r[1].name:"Ancestries")+" - PF2ools",{c(){e=V("div"),t=V("div"),de(n.$$.fragment),o=X(),s=V("div"),de(a.$$.fragment),c=X(),this.h()},l(i){e=O(i,"DIV",{class:!0});var y=j(e);t=O(y,"DIV",{class:!0});var I=j(t);he(n.$$.fragment,I),I.forEach(b),o=K(y),s=O(y,"DIV",{class:!0});var L=j(s);he(a.$$.fragment,L),L.forEach(b),y.forEach(b),c=K(i),Dt("svelte-1q5bze3",document.head).forEach(b),this.h()},h(){E(t,"class","view-col md:w-3/5"),E(s,"class","view-col max-h-[90vh] md:w-2/5"),E(e,"class","container md:flex")},m(i,y){$(i,e,y),g(e,t),me(n,t,null),g(e,o),g(e,s),me(a,s,null),$(i,c,y),A=!0,v||(_=Z(window,"hashchange",r[3]),v=!0)},p(i,[y]){const I={};y&1&&(I.data=i[0].ancestries),y&2&&(I.selected=i[1]),y&48&&(I.$$scope={dirty:y,ctx:i}),n.$set(I);const L={};y&2&&(L.selected=i[1]),a.$set(L),(!A||y&2)&&u!==(u=(i[1]?i[1].name:"Ancestries")+" - PF2ools")&&(document.title=u)},i(i){A||(M(n.$$.fragment,i),M(a.$$.fragment,i),A=!0)},o(i){Q(n.$$.fragment,i),Q(a.$$.fragment,i),A=!1},d(i){i&&b(e),_e(n),_e(a),i&&b(c),v=!1,_()}}}const Tt="grid-cols-[minmax(5rem,_30rem)_2rem_minmax(5rem,_10rem)_4rem] gap-2",gt=r=>r.toTitleCase();function br(r,e,t){let{data:n}=e;const o=n.ancestries;let s;Ct.subscribe(c=>{let u=c.url.hash.replaceAll(/\#|\?.+/g,"");u&&o.has(u)?t(1,s=o.get(u)):t(1,s=o.entries().next().value[1])});const a=c=>{let u=c.newURL.remove(/\?.+/g).split("#")[1];t(1,s=o.has(u)?o.get(u):o.entries().next().value[1])};return r.$$set=c=>{"data"in c&&t(0,n=c.data)},[n,s,o,a]}class Vr extends Ie{constructor(e){super(),ke(this,e,br,vr,Ae,{data:0})}}export{Vr as component,wr as universal};
