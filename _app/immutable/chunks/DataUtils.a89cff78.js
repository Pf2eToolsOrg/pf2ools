import{w}from"./index.504fa367.js";import{ah as S}from"./index.b651555f.js";const l={};function g(e){return e==="local"?localStorage:sessionStorage}function d(e,s,t){const a=(t==null?void 0:t.serializer)??JSON,m=(t==null?void 0:t.storage)??"local";function f(n,c){g(m).setItem(n,a.stringify(c))}if(!l[e]){const n=w(s,r=>{const o=g(m).getItem(e);o&&r(a.parse(o));{const h=i=>{i.key===e&&r(i.newValue?a.parse(i.newValue):null)};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)}}),{subscribe:c,set:u}=n;l[e]={set(r){f(e,r),u(r)},update(r){const o=r(S(n));f(e,o),u(o)},subscribe:c}}return l[e]}const P=d("modeOsPrefers",!1),E=d("modeUserPrefers",void 0),v=d("modeCurrent",!1);function C(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return P.set(e),e}function U(e){E.set(e)}function $(e){const s=document.documentElement.classList,t="dark";e===!0?s.remove(t):s.add(t),v.set(e)}function b(){const e=document.documentElement.classList,s=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),a=window.matchMedia("(prefers-color-scheme: dark)").matches;s||t&&a?e.add("dark"):e.remove("dark")}class O{constructor(s){if(!s)throw new Error("DataEntry must have a data object provided to it.");if(Object.assign(this,s),!this.name||!this.source)throw new Error(`DataEntry must have name and source properties: ${JSON.stringify(s)}`);this.data=s}hashify(s,t){return L(s??this.name,t??this.source)}get hash(){return this.hashify(this.name,this.source)}tag(s){return`${this.name}|${this.source}${s?`|${s}`:""}`}}function L(e,s){return`${e+(s?`_${s}`:"")}`.toLowerCase()}export{O as D,$ as a,U as b,E as c,C as g,L as h,d as l,v as m,b as s};
