import{w as h}from"./index.a70da5a2.js";import{ad as S}from"./index.e03c40d8.js";const I={message:"Missing Toast Message",autohide:!0,timeout:5e3};function M(){const e=Math.random();return Number(e).toString(32)}function P(e){if(e.autohide===!0)return setTimeout(()=>{_.close(e.id)},e.timeout)}function U(){const{subscribe:e,set:n,update:t}=h([]);return{subscribe:e,trigger:s=>t(o=>{const a=M();s&&s.callback&&s.callback({id:a,status:"queued"});const r={...I,...s,id:a};return r.timeoutId=P(r),o.push(r),o}),close:s=>t(o=>{if(o.length>0){const a=o.findIndex(l=>l.id===s),r=o[a];r&&(r.callback&&r.callback({id:s,status:"closed"}),r.timeoutId&&clearTimeout(r.timeoutId),o.splice(a,1))}return o}),clear:()=>n([])}}const _=U(),m={};function b(e){return e==="local"?localStorage:sessionStorage}function f(e,n,t){const s=(t==null?void 0:t.serializer)??JSON,o=(t==null?void 0:t.storage)??"local",a=typeof window<"u"&&typeof document<"u";function r(l,i){a&&b(o).setItem(l,s.stringify(i))}if(!m[e]){const l=h(n,c=>{const d=a?b(o).getItem(e):null;if(d&&c(s.parse(d)),a){const w=u=>{u.key===e&&c(u.newValue?s.parse(u.newValue):null)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)}}),{subscribe:i,set:g}=l;m[e]={set(c){r(e,c),g(c)},update(c){const d=c(S(l));r(e,d),g(d)},subscribe:i}}return m[e]}f("modeOsPrefers",!1);const p=f("modeUserPrefers",void 0),v=f("modeCurrent",!1);function E(e){p.set(e)}function T(e){const n=document.documentElement.classList,t="dark";e===!0?n.remove(t):n.add(t),v.set(e)}function k(){const e=document.documentElement.classList,n=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),s=window.matchMedia("(prefers-color-scheme: dark)").matches;n||t&&s?e.add("dark"):e.remove("dark")}export{E as a,T as b,f as l,v as m,k as s,_ as t};
